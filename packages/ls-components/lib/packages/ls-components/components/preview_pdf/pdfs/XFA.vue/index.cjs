"use strict";var m=Object.defineProperty;var u=(r,a)=>m(r,"name",{value:a,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),w=require("pdfjs-dist"),g=require("../linkService/index.cjs"),S=t.defineComponent({__name:"XFA",props:{page:{},document:{},viewport:{}},emits:["xfaLoaded"],setup(r,{emit:a}){const e=r,p=a,o=t.ref();async function i(){var l,s;(s=(l=o.value).replaceChildren)==null||s.call(l);const n=t.toRaw(e.document),c=e.page,v=e.viewport;if(n.isPureXfa){const d=await c.getXfa(),f={div:o.value,viewport:v.clone({dontFlip:!0}),linkService:new g.SimpleLinkService,annotationStorage:n==null?void 0:n.annotationStorage,xfaHtml:d};w.XfaLayer.render(f),p("xfaLoaded")}}return u(i,"render"),t.watch(()=>e.viewport,()=>{e.page&&e.viewport&&o.value&&i()}),t.onMounted(()=>{e.page&&e.viewport&&o.value&&i()}),(n,c)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"layer",ref:o,style:{display:"block"}},null,512))}});exports.default=S;
