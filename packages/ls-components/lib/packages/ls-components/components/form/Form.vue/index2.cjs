"use strict";var V=Object.defineProperty;var s=(f,m)=>V(f,"name",{value:m,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});;/* empty css                                                                                                                                            */;/* empty css                                                                                                                                                       */;/* empty css                                                                                                                                            */;/* empty css                                                                                                                                                 */;/* empty css                                                                                                                                              */;/* empty css                                                                                                                                           */;/* empty css                                                                                                                                           */const e=require("vue"),S=,/* empty css                      */T=,/* empty css               */A=,/* empty css                                                                                                                                    */d=,/* empty css                                                                                     */D=,/* empty css                                                                                     */I=,/* empty css                                                                                                                                          */O=,/* empty css                                                                                                                                          */W=,/* empty css                                                                                                                                             */$=,/* empty css                                                                                                                                           */M=,/* empty css                                                                                                                                                      */U={class:"ls-form"},j=e.defineComponent({name:"LSForm"}),z=e.defineComponent({...j,props:T.lsFormProps,emits:["submit","reset","update:form-data","onChange"],setup(f,{expose:m,emit:F}){const k=f,b=F,E=e.useAttrs();function P(t){const r={};return t&&Object.entries(t).forEach(([n,i])=>{const p=n.replace(/-(\w)/g,(q,y)=>y.toUpperCase());r[p]=i}),r}s(P,"formatAttrs");const R=e.computed(()=>{const t=P(E);let r=k.buttonsLeft;const n={label:"",labelWidth:"0px"};return t&&t.hasOwnProperty("inline")&&(typeof t.inline=="boolean"&&t.inline===!1?r=k.buttonsLeft:r=!0,t.labelPosition==="top"&&(n.class="ls-form-item-buttons")),r||(n.label=" ",t.labelWidth?n.labelWidth=t.labelWidth:n.labelWidth="auto"),n}),a=e.ref(),h=["label","input","textarea","number","radio","checkbox","select","date","datetimerange","timePicker","timeSelect","cascader","multipleCascader","switch","inputRange","inputNumberRange","slot","itemSlot"];let l=e.reactive({});function g(t){t&&(t.resetFields(),b("reset",l))}s(g,"resetForm");async function w(t){t&&await t.validate((r,n)=>{r?b("submit",l):console.warn("error submit!",n)})}s(w,"submitForm");function N(){return new Promise((t,r)=>{if(!a.value)return t(!1);a.value.validate((n,i)=>{n?t(l):(console.warn("error submit!",i),r(i))})})}s(N,"validate");function u(t,r){D.default(l,t,r)}s(u,"updateFormData"),e.watch(()=>k.formData,t=>{l=t||{}},{deep:!0,immediate:!0});function B(t,r,n){b("onChange",t,r,n)}return s(B,"onChange"),m({FormRef:a,validate:N,submitForm:w,resetForm:g}),(t,r)=>{const n=I.ElCol,i=O.ElRow,p=W.ElButton,q=$.ElFormItem,y=$.ElForm,_=M.ElConfigProvider;return e.openBlock(),e.createElementBlock("div",U,[e.createVNode(_,{locale:e.unref(A.default),"value-on-clear":void 0,"empty-values":[void 0,null]},{default:e.withCtx(()=>[e.createVNode(y,e.mergeProps({ref_key:"FormRef",ref:a,"label-position":"left","require-asterisk-position":"right","label-width":"auto","hide-required-asterisk":!!t.read},t.$attrs,{model:e.unref(l),disabled:t.loading||t.disabled,class:[t.read&&t.hasDefReadStyle?"show-label":""]}),{default:e.withCtx(()=>[t.column>1?(e.openBlock(),e.createBlock(i,{key:0,gutter:10},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.formItems,(o,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.prop},[o.hideColumn?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(n,{key:0,span:o.isRow?24:24/t.column},{default:e.withCtx(()=>[o.type==="slot"?e.renderSlot(t.$slots,o.prop,{key:0,slotRow:{...o},value:e.unref(d.default)(e.unref(l),o.prop),updateFormData:u},void 0,!0):h.includes(o.type)?(e.openBlock(),e.createBlock(S.default,e.mergeProps({key:1,"is-value":!0,value:e.unref(d.default)(e.unref(l),o.prop),colon:t.colon,read:t.read,"label-empty":t.labelEmpty,index:v,ref_for:!0},o,{"onUpdate:value":u,onOnChange:B}),e.createSlots({_:2},[e.renderList(t.$slots,(L,c)=>({name:c,fn:e.withCtx(C=>[e.renderSlot(t.$slots,c,e.mergeProps({ref_for:!0},C),void 0,!0)])}))]),1040,["value","colon","read","label-empty","index"])):e.renderSlot(t.$slots,o.type,{key:2,slotRow:{...o},value:e.unref(d.default)(e.unref(l),o.prop),updateFormData:u},void 0,!0)]),_:2},1032,["span"]))],64))),128))]),_:3})):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.formItems,(o,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.prop},[o.hideColumn?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.type==="slot"?e.renderSlot(t.$slots,o.prop,{key:0,slotRow:{...o},value:e.unref(d.default)(e.unref(l),o.prop),updateFormData:u},void 0,!0):h.includes(o.type)?(e.openBlock(),e.createBlock(S.default,e.mergeProps({key:1,"is-value":!0,value:e.unref(d.default)(e.unref(l),o.prop),colon:t.colon,read:t.read,"label-empty":t.labelEmpty,index:v,ref_for:!0},o,{"onUpdate:value":u,onOnChange:B}),e.createSlots({_:2},[e.renderList(t.$slots,(L,c)=>({name:c,fn:e.withCtx(C=>[e.renderSlot(t.$slots,c,e.mergeProps({ref_for:!0},C),void 0,!0)])}))]),1040,["value","colon","read","label-empty","index"])):e.renderSlot(t.$slots,o.type,{key:2,slotRow:{...o},value:e.unref(d.default)(e.unref(l),o.prop),updateFormData:u},void 0,!0)],64))],64))),128)),e.renderSlot(t.$slots,"default",{},void 0,!0),t.showButtons?(e.openBlock(),e.createBlock(q,e.mergeProps({key:2},e.unref(R),{class:t.buttonsClass}),{default:e.withCtx(()=>[t.$slots["buttons-prepend"]?e.renderSlot(t.$slots,"buttons-prepend",{key:0},void 0,!0):e.createCommentVNode("",!0),t.showSubmit?(e.openBlock(),e.createBlock(p,{key:1,type:"primary",class:e.normalizeClass(t.confirmClassName),loading:t.loading&&t.showBtnLoading,onClick:r[0]||(r[0]=o=>w(a.value))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.confirmText),1)]),_:1},8,["class","loading"])):e.createCommentVNode("",!0),t.showReset?(e.openBlock(),e.createBlock(p,{key:2,onClick:r[1]||(r[1]=o=>g(a.value))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.resetText||"重置"),1)]),_:1})):e.createCommentVNode("",!0)]),_:3},16,["class"])):e.createCommentVNode("",!0)]),_:3},16,["hide-required-asterisk","model","disabled","class"])]),_:3},8,["locale"])])}}});exports.default=z;
