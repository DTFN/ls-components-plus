"use strict";var m=Object.defineProperty;var c=(t,n)=>m(t,"name",{value:n,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),g=require("pdfjs-dist"),w=require("../linkService/index.cjs");function S(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const e in t)if(e!=="default"){const i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:c(()=>t[e],"get")})}}return n.default=t,Object.freeze(n)}c(S,"_interopNamespaceDefault");const _=S(g),y=o.defineComponent({__name:"XFA",props:{page:{},document:{},viewport:{}},emits:["xfaLoaded"],setup(t,{emit:n}){const e=t,i=n,r=o.ref();async function l(){var s,p;(p=(s=r.value).replaceChildren)==null||p.call(s);const a=o.toRaw(e.document),u=e.page,f=e.viewport;if(a.isPureXfa){const d=await u.getXfa(),v={div:r.value,viewport:f.clone({dontFlip:!0}),linkService:new w.SimpleLinkService,annotationStorage:a==null?void 0:a.annotationStorage,xfaHtml:d};_.XfaLayer.render(v),i("xfaLoaded")}}return c(l,"render"),o.watch(()=>e.viewport,()=>{e.page&&e.viewport&&r.value&&l()}),o.onMounted(()=>{e.page&&e.viewport&&r.value&&l()}),(a,u)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"layer",ref:r,style:{display:"block"}},null,512))}});exports.default=y;
