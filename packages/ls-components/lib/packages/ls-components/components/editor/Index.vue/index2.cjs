"use strict";var q=Object.defineProperty;var n=(u,c)=>q(u,"name",{value:c,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),i=require("@wangeditor/editor-for-vue"),P=require("../../_hooks/useNamespace/index.cjs"),m=require("../types/index.cjs"),f=require("../../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge/index.cjs"),_=o.defineComponent({name:"LSEditor"}),k=o.defineComponent({..._,props:m.lsEditorProps,emits:m.lsEditorEmits,setup(u,{expose:c,emit:h}){const p=P.useNamespace("editor").b(),r=u,l=h,a=o.shallowRef(),g={excludeKeys:["group-video"]},C={placeholder:"请输入内容...",maxLength:2e4,MENU_CONF:{uploadImage:{server:r.uploadServer,fieldName:r.uploadFieldName,headers:{token:r.uploadToken},customInsert(e,t){const{data:s="",alt:S="",href:V=""}=e||{};t(s,S,V)}}}},v=o.computed(()=>({height:(r==null?void 0:r.height)||"300px"})),d=o.ref("");o.watch(()=>r.valueHtml,e=>{d.value=e},{immediate:!0,deep:!0}),o.onBeforeUnmount(()=>{const e=a.value;e!=null&&e.destroy()});const y=n(e=>{a.value=e,l("handleCreated",e)},"handleCreated"),E=n(e=>{l("handleChange",e)},"handleChange"),N=n(e=>{l("handleDestroyed",e)},"handleDestroyed"),b=n(e=>{l("handleFocus",e)},"handleFocus"),O=n(e=>{l("handleBlur",e)},"handleBlur"),B=n((e,t)=>{l("customAlert",e,t)},"customAlert"),F=n((e,t,s)=>{l("customPaste",e,t,s)},"customPaste");return c({editorRef:a}),(e,t)=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(o.unref(p))},[o.createVNode(o.unref(i.Toolbar),{class:"tool-bar-wrap",editor:o.unref(a),"default-config":o.unref(f.default)(g,e.toolbarConfig),mode:e.mode},null,8,["editor","default-config","mode"]),o.createVNode(o.unref(i.Editor),{class:"editor-wrap",modelValue:o.unref(d),"onUpdate:modelValue":t[0]||(t[0]=s=>o.isRef(d)?d.value=s:null),"default-config":o.unref(f.default)(C,e.editorConfig),style:o.normalizeStyle(o.unref(v)),mode:e.mode,onOnCreated:y,onOnChange:E,onOnDestroyed:N,onOnFocus:b,onOnBlur:O,onCustomAlert:B,onCustomPaste:F},null,8,["modelValue","default-config","style","mode"])],2))}});exports.default=k;
