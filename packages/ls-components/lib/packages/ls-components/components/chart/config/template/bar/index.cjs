"use strict";var C=Object.defineProperty;var d=(r,t)=>C(r,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("../../../../_utils/utils/index.cjs"),o=require("../../base/index.cjs"),L=d((r,t,e,s,a)=>{const{name:n,seriesName:l,value:O,color:m}=r,i=s==0?`<div class="name">${n}</div>`:"",c=t&&O!=="-"&&l!=="temp"?`<span class="serise-name">${t?l:""}</span>`:"",u=O!=="-"&&l!=="temp"?`<span class="value">${O||"-"}</span>`:"",p=O!=="-"&&l!=="temp"?`<div class="content-badge ${e}" style="background-color: ${typeof m=="string"?m:a};"></div>`:"";return` ${i} <div class="content"> <div class="serise-wrap"> ${p} ${c} </div> ${u} </div> `},"setTooltipFormat"),T=d(r=>{let{legend:t,legendIcon:e,tooltip:s="shadow",theme:a="default",tooltipFormatter:n,barColorList:l}=r;const O=l||o.BAR_COLOR_MAP[a||o.DEF_THEME][0];return n=n||function(m){let i=`<div class="ls-bar-tooltip-wrap ${a}">`;return m.forEach((c,u)=>{i+=L(c,t,e,u,O)}),i+"</div>"},s?{trigger:"axis",axisPointer:{type:s,z:1,label:{color:o.TOOLTIP_COLOR_MAP[a||o.DEF_THEME].color}},textStyle:{color:o.FONT_COLOR_MAP[a||o.DEF_THEME]},padding:12,backgroundColor:o.TOOLTIP_COLOR_MAP[a||o.DEF_THEME].bgColor,extraCssText:`box-shadow: ${o.TOOLTIP_COLOR_MAP[a||o.DEF_THEME].shadowColor};`,formatter:n}:null},"setTooltip"),A=d(r=>{const{legend:t,legendIcon:e="rect",theme:s}=r;return{type:"scroll",data:t||[],icon:e,itemWidth:12,itemHeight:10,textStyle:{color:o.FONT_COLOR_MAP[s||o.DEF_THEME],fontSize:12,height:10,rich:{a:{verticalAlign:"middle"}}}}},"setLegend"),v=d(r=>{const{dataZoom:t}=r,e={left:"3%",right:"3%",top:"12%",bottom:"3%",containLabel:!0};return t==="vertical"&&delete e.right,t==="horizontal"&&delete e.bottom,e},"setGrid"),b=d((r,t,e)=>{const{axisData:s,seriesData:a}=r,{axis:n="x",theme:l,dynamicAxis:O,type:m="simple"}=t,i={type:n==e?"category":"value",axisTick:{show:!1},axisLine:{show:n==e,lineStyle:{width:1,color:o.FONT_COLOR_MAP[l||o.DEF_THEME]}},axisLabel:{margin:18},splitLine:{lineStyle:{type:"dashed",color:o.SPLIT_LINE_COLOR[l||o.DEF_THEME]}}};if(n==e&&(i.data=s),n!==e&&O&&["simple","multiBar"].includes(m)){let c=[];m==="simple"?c=(a||[]).map(_=>E.numberFixed(_)):m==="multiBar"&&(c=a.reduce((_,y)=>_.concat(y.data),[]));const u=Math.max(...c),p=Math.min(...c),{aInterval:f,aMax:h,aMin:M}=E.formatChartAxis(u,p);i.min=M,i.max=h,i.interval=f}return[i]},"setAxis"),x=d(r=>{const{dataZoom:t,dataZoomColorOut:e,dataZoomColorIn:s,theme:a}=r;return t?[{show:!0,start:0,end:100,orient:t,showDataShadow:!0,dataBackground:{areaStyle:{color:s||"#d2dbee"}},fillerColor:e||"rgba(207, 223, 243, 0.25)",textStyle:{color:o.FONT_COLOR_MAP[a||o.DEF_THEME]}},{type:"inside",start:0,end:100,orient:t},{show:!1,yAxisIndex:0,filterMode:"empty",right:0,showDataShadow:!0}]:null},"setDataZoom"),g=d((r,t,e)=>{const s=r==="x"?"top":"left";let a="inside";return e?a=o.LABEL_POSITION_MAP[t][s]:a=o.LABEL_POSITION_MAP[t][`-${s}`],a},"getPos"),S=d((r,t,e)=>{const{type:s="simple",showBarFont:a=!0,labelPosition:n="inside",axis:l="x",showBackground:O,theme:m}=r,i={type:"bar",name:t.name,label:{show:a,position:n,formatter:d(function(c){const u=c.value;return u!==0?u:""},"formatter")},showBackground:O,backgroundStyle:{color:o.BG_BAR_COLOR_MAP[m||o.DEF_THEME]},data:t.data||[],barCategoryGap:"30%",barWidth:s==="multiBar"?"auto":"40%",barGap:"4%"};return["negative","categoryStack","waterfall"].includes(s)&&(i.stack="total",s==="negative"&&["both","insideBoth"].includes(n)?i.label.position=g(l,n,(t.data||[]).reduce((c,u)=>c+u)>0):s==="categoryStack"&&e>0&&(i.itemStyle={borderColor:o.BG_COLOR_MAP[m||o.DEF_THEME],borderWidth:2})),s==="waterfall"&&(i.itemStyle=e==0?{borderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}:null,i.emphasis=e==0?{itemStyle:{borderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}}:null,i.label=t.label||{show:e>0&&a,position:n,formatter:d(function(c){const u=c.value;return u!==0?u:""},"formatter")},["both","insideBoth"].includes(n)&&(i.label.position=g(l,n,e===1))),i},"setSeriesOption"),F=d((r,t)=>{const{seriesData:e}=r,{type:s="simple",legend:a=[]}=t;return(s=="simple"?[{name:a[0],data:e}]:e||[]).map((n,l)=>S(t,n,l))},"setSeries"),w=d((r,t)=>{const{theme:e,barColorList:s}=t,a={textStyle:{},backgroundColor:o.BG_COLOR_MAP[e||o.DEF_THEME],color:s||o.BAR_COLOR_MAP[e||o.DEF_THEME],legend:A(t),grid:v(t),xAxis:b(r,t,"x"),yAxis:b(r,t,"y"),series:F(r,t),dataZoom:x(t)},n=T(t);return n&&(a.tooltip=n),a},"setOption");function D(r={},t={}){return w(r,t)}d(D,"dealOption");exports.dealOption=D;
