"use strict";var m=Object.defineProperty;var a=(s,i)=>m(s,"name",{value:i,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),d=require("../../_hooks/useNamespace/index.cjs"),v=require("../types/index.cjs"),f=require("../config/index/index.cjs"),q=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/tooltip/install/index.cjs"),w=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/toolbox/install/index.cjs"),C=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/dataZoom/install/index.cjs"),_=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/grid/install/index.cjs"),$=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/legend/install/index.cjs"),O=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/chart/line/install/index.cjs"),y=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/chart/pie/install/index.cjs"),x=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/label/installLabelLayout/index.cjs"),g=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/animation/universalTransition/index.cjs"),L=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/renderer/installCanvasRenderer/index.cjs"),b=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/chart/bar/install/index.cjs"),k=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/chart/gauge/install/index.cjs"),z=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/component/graphic/install/index.cjs"),P=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/extension/index.cjs"),S=require("../../../../../node_modules/.pnpm/echarts@5.5.1/node_modules/echarts/lib/core/echarts/index.cjs"),T=e.defineComponent({name:"LSChart"}),M=e.defineComponent({...T,props:v.lsChartProps,setup(s,{expose:i}){P.use([q.install,w.install,C.install,_.install,$.install,O.install,y.install,x.installLabelLayout,g.installUniversalTransition,L.install,b.install,k.install,z.install]);const p=d.useNamespace("chart").b(),t=s,o=e.ref(),n=e.ref(),l=e.ref({}),h=e.computed(()=>({width:t.width?`${t.width}px`:"100%",height:t.height?`${t.height}px`:"30vh"}));e.watch(()=>[t.width,t.height,t.template,t.data,t.customOption,t.templatePatch],()=>{u()},{immediate:!0,deep:!0});async function u(){t.template?l.value=await f.default.templateOption({template:t.template,data:t.data,templatePatch:t.templatePatch,customOption:t.customOption}):l.value=t.customOption,n.value?(n.value.setOption(l.value,{notMerge:!0}),await e.nextTick(),r()):(await e.nextTick(),c(),u())}a(u,"setChartOption");function c(){n.value=e.markRaw(S.init(o.value)),window.removeEventListener("resize",r),window.addEventListener("resize",r)}a(c,"initChart");function r(){n.value&&n.value.resize()}return a(r,"resizeChart"),e.onMounted(()=>{c()}),e.onUnmounted(()=>{n.value&&n.value.dispose()}),i({echartObj:n}),(E,j)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(p)),style:e.normalizeStyle(e.unref(h)),ref_key:"lsChartRef",ref:o},null,6))}});exports.default=M;
