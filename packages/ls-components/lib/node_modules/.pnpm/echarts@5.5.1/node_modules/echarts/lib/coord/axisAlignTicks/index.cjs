"use strict";var S=Object.defineProperty;var N=(i,v)=>S(i,"name",{value:v,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("../../util/number/index.cjs"),F=require("../../scale/Interval/index.cjs"),q=require("../axisHelper/index.cjs"),w=require("../../util/log/index.cjs"),u=require("../../scale/helper/index.cjs");var m=Math.log;function y(i,v,g){var l=F.default.prototype,f=l.getTicks.call(g),d=l.getTicks.call(g,!0),n=f.length-1,h=l.getInterval.call(g),x=q.getScaleExtent(i,v),t=x.extent,s=x.fixMin,o=x.fixMax;if(i.type==="log"){var p=m(i.base);t=[m(t[0])/p,m(t[1])/p]}i.setExtent(t[0],t[1]),i.calcNiceExtent({splitNumber:n,fixMin:s,fixMax:o});var E=l.getExtent.call(i);s&&(t[0]=E[0]),o&&(t[1]=E[1]);var e=l.getInterval.call(i),a=t[0],r=t[1];if(s&&o)e=(r-a)/n;else if(s)for(r=t[0]+e*n;r<t[1]&&isFinite(r)&&isFinite(t[1]);)e=u.increaseInterval(e),r=t[0]+e*n;else if(o)for(a=t[1]-e*n;a>t[0]&&isFinite(a)&&isFinite(t[0]);)e=u.increaseInterval(e),a=t[1]-e*n;else{var M=i.getTicks().length-1;M>n&&(e=u.increaseInterval(e));var T=e*n;r=Math.ceil(t[1]/e)*e,a=c.round(r-T),a<0&&t[0]>=0?(a=0,r=c.round(T)):r>0&&t[1]<=0&&(r=0,a=-c.round(T))}var k=(f[0].value-d[0].value)/h,b=(f[n].value-d[n].value)/h;if(l.setExtent.call(i,a+e*k,r+e*b),l.setInterval.call(i,e),(k||b)&&l.setNiceExtent.call(i,a+e,r-e),process.env.NODE_ENV!=="production"){var I=l.getTicks.call(i);I[1]&&(!u.isValueNice(e)||c.getPrecisionSafe(I[1].value)>c.getPrecisionSafe(e))&&w.warn("The ticks may be not readable when set min: "+v.get("min")+", max: "+v.get("max")+" and alignTicks: true")}}N(y,"alignScaleTicks");exports.alignScaleTicks=y;
