"use strict";var d=Object.defineProperty;var g=(o,i)=>d(o,"name",{value:i,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const m=require("../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),S=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),_=require("../Scale/index.cjs"),l=require("../../util/number/index.cjs"),v=require("../helper/index.cjs"),M=require("../Interval/index.cjs");var E=_.default.prototype,c=M.default.prototype,q=l.round,w=Math.floor,L=Math.ceil,u=Math.pow,a=Math.log,y=function(o){m.__extends(i,o);function i(){var t=o!==null&&o.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new M.default,t._interval=0,t}return g(i,"LogScale"),i.prototype.getTicks=function(t){var e=this._originalScale,r=this._extent,n=e.getExtent(),x=c.getTicks.call(this,t);return S.map(x,function(f){var p=f.value,s=l.round(u(this.base,p));return s=p===r[0]&&this._fixMin?h(s,n[0]):s,s=p===r[1]&&this._fixMax?h(s,n[1]):s,{value:s}},this)},i.prototype.setExtent=function(t,e){var r=a(this.base);t=a(Math.max(0,t))/r,e=a(Math.max(0,e))/r,c.setExtent.call(this,t,e)},i.prototype.getExtent=function(){var t=this.base,e=E.getExtent.call(this);e[0]=u(t,e[0]),e[1]=u(t,e[1]);var r=this._originalScale,n=r.getExtent();return this._fixMin&&(e[0]=h(e[0],n[0])),this._fixMax&&(e[1]=h(e[1],n[1])),e},i.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=a(t[0])/a(e),t[1]=a(t[1])/a(e),E.unionExtent.call(this,t)},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,r=e[1]-e[0];if(!(r===1/0||r<=0)){var n=l.quantity(r),x=t/r*n;for(x<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var f=[l.round(L(e[0]/n)*n),l.round(w(e[1]/n)*n)];this._interval=n,this._niceExtent=f}},i.prototype.calcNiceExtent=function(t){c.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},i.prototype.parse=function(t){return t},i.prototype.contain=function(t){return t=a(t)/a(this.base),v.contain(t,this._extent)},i.prototype.normalize=function(t){return t=a(t)/a(this.base),v.normalize(t,this._extent)},i.prototype.scale=function(t){return t=v.scale(t,this._extent),u(this.base,t)},i.type="log",i}(_.default),b=y.prototype;b.getMinorTicks=c.getMinorTicks;b.getLabel=c.getLabel;function h(o,i){return q(o,l.getPrecision(i))}g(h,"fixRoundingError");_.default.registerClass(y);exports.default=y;
