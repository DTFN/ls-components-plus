"use strict";var S=Object.defineProperty;var u=(n,o)=>S(n,"name",{value:o,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),E=require("../clazz/index.cjs"),T=require("../log/index.cjs");var I=Math.round(Math.random()*10);function q(n){return[n||"",I++].join("_")}u(q,"getUID");function w(n){var o={};n.registerSubTypeDefaulter=function(p,c){var f=E.parseClassType(p);o[f.main]=c},n.determineSubType=function(p,c){var f=c.type;if(!f){var e=E.parseClassType(p).main;n.hasSubTypes(p)&&o[e]&&(f=o[e](c))}return f}}u(w,"enableSubTypeDefaulter");function x(n,o){n.topologicalTravel=function(e,r,v,s){if(!e.length)return;var l=p(r),b=l.graph,g=l.noEntryList,t={};for(a.each(e,function(i){t[i]=!0});g.length;){var h=g.pop(),y=b[h],D=!!t[h];D&&(v.call(s,h,y.originalDeps.slice()),delete t[h]),a.each(y.successor,D?O:d)}a.each(t,function(){var i="";throw process.env.NODE_ENV!=="production"&&(i=T.makePrintable("Circular dependency may exists: ",t,e,r)),new Error(i)});function d(i){b[i].entryCount--,b[i].entryCount===0&&g.push(i)}u(d,"removeEdge");function O(i){t[i]=!0,d(i)}u(O,"removeEdgeAndAdd")};function p(e){var r={},v=[];return a.each(e,function(s){var l=c(r,s),b=l.originalDeps=o(s),g=f(b,e);l.entryCount=g.length,l.entryCount===0&&v.push(s),a.each(g,function(t){a.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var h=c(r,t);a.indexOf(h.successor,t)<0&&h.successor.push(s)})}),{graph:r,noEntryList:v}}u(p,"makeDepndencyGraph");function c(e,r){return e[r]||(e[r]={predecessor:[],successor:[]}),e[r]}u(c,"createDependencyGraphItem");function f(e,r){var v=[];return a.each(e,function(s){a.indexOf(r,s)>=0&&v.push(s)}),v}u(f,"getAvailableDependencies")}u(x,"enableTopologicalTravel");function A(n,o){return a.merge(a.merge({},n,!0),o,!0)}u(A,"inheritDefaultOption");exports.enableSubTypeDefaulter=w;exports.enableTopologicalTravel=x;exports.getUID=q;exports.inheritDefaultOption=A;
