"use strict";var M=Object.defineProperty;var u=(r,t)=>M(r,"name",{value:t,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const p=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),s=require("../../util/number/index.cjs"),f=require("../axisTickLabelBuilder/index.cjs");var x=[0,1],b=function(){function r(t,n,e){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=e||[0,0]}return u(r,"Axis"),r.prototype.contain=function(t){var n=this._extent,e=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return t>=e&&t<=i},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return s.getPixelPrecision(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,n){var e=this._extent;e[0]=t,e[1]=n},r.prototype.dataToCoord=function(t,n){var e=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(e=e.slice(),g(e,i.count())),s.linearMap(t,x,e,n)},r.prototype.coordToData=function(t,n){var e=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(e=e.slice(),g(e,i.count()));var a=s.linearMap(t,e,x,n);return this.scale.scale(a)},r.prototype.pointToData=function(t,n){},r.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),e=f.createAxisTicks(this,n),i=e.ticks,a=p.map(i,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),o=n.get("alignWithLabel");return E(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var e=this.scale.getMinorTicks(n),i=p.map(e,function(a){return p.map(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(){return f.createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),e=n[1]-n[0]+(this.onBand?1:0);e===0&&(e=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/e},r.prototype.calculateCategoryInterval=function(){return f.calculateCategoryInterval(this)},r}();function g(r,t){var n=r[1]-r[0],e=t,i=n/e/2;r[0]+=i,r[1]-=i}u(g,"fixExtentWithBands");function E(r,t,n,e){var i=t.length;if(!r.onBand||n||!i)return;var a=r.getExtent(),o,c;if(i===1)t[0].coord=a[0],o=t[1]={coord:a[1]};else{var y=t[i-1].tickValue-t[0].tickValue,v=(t[i-1].coord-t[0].coord)/y;p.each(t,function(l){l.coord-=v/2});var T=r.scale.getExtent();c=1+T[1]-t[i-1].tickValue,o={coord:t[i-1].coord+v*c},t.push(o)}var m=a[0]>a[1];h(t[0].coord,a[0])&&(e?t[0].coord=a[0]:t.shift()),e&&h(a[0],t[0].coord)&&t.unshift({coord:a[0]}),h(a[1],o.coord)&&(e?o.coord=a[1]:t.pop()),e&&h(o.coord,a[1])&&t.push({coord:a[1]});function h(l,d){return l=s.round(l),d=s.round(d),m?l>d:l<d}u(h,"littleThan")}u(E,"fixOnBandTicksCoords");exports.default=b;
