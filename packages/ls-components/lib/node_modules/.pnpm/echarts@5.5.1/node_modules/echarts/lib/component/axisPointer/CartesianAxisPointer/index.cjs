"use strict";var b=Object.defineProperty;var p=(r,e)=>b(r,"name",{value:e,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const P=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),A=require("../BaseAxisPointer/index.cjs"),c=require("../viewHelper/index.cjs"),h=require("../../../coord/cartesian/cartesianAxisHelper/index.cjs");var S=function(r){P.__extends(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return p(e,"CartesianAxisPointer"),e.prototype.makeElOption=function(t,a,l,u,n){var s=l.axis,v=s.grid,d=u.get("type"),i=m(v,s).getOtherAxis(s).getGlobalExtent(),o=s.toGlobalCoord(s.dataToCoord(a,!0));if(d&&d!=="none"){var x=c.buildElStyle(u),g=C[d](s,o,i);g.style=x,t.graphicKey=g.type,t.pointer=g}var y=h.layout(v.model,l);c.buildCartesianSingleLabelElOption(a,t,y,l,u,n)},e.prototype.getHandleTransform=function(t,a,l){var u=h.layout(a.axis.grid.model,a,{labelInside:!1});u.labelMargin=l.get(["handle","margin"]);var n=c.getTransformedPosition(a.axis,t,u);return{x:n[0],y:n[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,a,l,u){var n=l.axis,s=n.grid,v=n.getGlobalExtent(!0),d=m(s,n).getOtherAxis(n).getGlobalExtent(),i=n.dim==="x"?0:1,o=[t.x,t.y];o[i]+=a[i],o[i]=Math.min(v[1],o[i]),o[i]=Math.max(v[0],o[i]);var x=(d[1]+d[0])/2,g=[x,x];g[i]=o[i];var y=[{verticalAlign:"middle"},{align:"center"}];return{x:o[0],y:o[1],rotation:t.rotation,cursorPoint:g,tooltipOption:y[i]}},e}(A.default);function m(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}p(m,"getCartesian");var C={line:p(function(r,e,t){var a=c.makeLineShape([e,t[0]],[e,t[1]],f(r));return{type:"Line",subPixelOptimize:!0,shape:a}},"line"),shadow:p(function(r,e,t){var a=Math.max(1,r.getBandWidth()),l=t[1]-t[0];return{type:"Rect",shape:c.makeRectShape([e-a/2,t[0]],[a,l],f(r))}},"shadow")};function f(r){return r.dim==="x"?0:1}p(f,"getAxisDimIndex");exports.default=S;
