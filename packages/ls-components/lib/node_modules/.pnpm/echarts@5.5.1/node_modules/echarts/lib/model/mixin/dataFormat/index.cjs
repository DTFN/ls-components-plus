"use strict";var N=Object.defineProperty;var h=(t,e)=>N(t,"name",{value:e,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),d=require("../../../data/helper/dataProvider/index.cjs"),V=require("../../../util/format/index.cjs"),D=require("../../../util/log/index.cjs");var b=/\{@(.+?)\}/g,w=function(){function t(){}return h(t,"DataFormatMixin"),t.prototype.getDataParams=function(e,r){var i=this.getData(r),p=this.getRawValue(e,r),o=i.getRawIndex(e),n=i.getName(e),v=i.getRawDataItem(e),a=i.getItemVisual(e,"style"),c=a&&a[i.getItemVisual(e,"drawType")||"fill"],f=a&&a.stroke,g=this.mainType,l=g==="series",u=i.userOutput&&i.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:l?this.subType:null,seriesIndex:this.seriesIndex,seriesId:l?this.id:null,seriesName:l?this.name:null,name:n,dataIndex:o,data:v,dataType:r,value:p,color:c,borderColor:f,dimensionNames:u?u.fullDimensions:null,encode:u?u.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,i,p,o,n){r=r||"normal";var v=this.getData(i),a=this.getDataParams(e,i);if(n&&(a.value=n.interpolatedValue),p!=null&&m.isArray(a.value)&&(a.value=a.value[p]),!o){var c=v.getItemModel(e);o=c.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(m.isFunction(o))return a.status=r,a.dimensionIndex=p,o(a);if(m.isString(o)){var f=V.formatTpl(o,a);return f.replace(b,function(g,l){var u=l.length,s=l;s.charAt(0)==="["&&s.charAt(u-1)==="]"&&(s=+s.slice(1,u-1),process.env.NODE_ENV!=="production"&&isNaN(s)&&D.error("Invalide label formatter: @"+l+", only support @[0], @[1], @[2], ..."));var y=d.retrieveRawValue(v,e,s);if(n&&m.isArray(n.interpolatedValue)){var T=v.getDimensionIndex(s);T>=0&&(y=n.interpolatedValue[T])}return y!=null?y+"":""})}},t.prototype.getRawValue=function(e,r){return d.retrieveRawValue(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,i){},t}();function O(t){var e,r;return m.isObject(t)?t.type?r=t:process.env.NODE_ENV!=="production"&&console.warn("The return type of `formatTooltip` is not supported: "+D.makePrintable(t)):e=t,{text:e,frag:r}}h(O,"normalizeTooltipFormatResult");exports.DataFormatMixin=w;exports.normalizeTooltipFormatResult=O;
