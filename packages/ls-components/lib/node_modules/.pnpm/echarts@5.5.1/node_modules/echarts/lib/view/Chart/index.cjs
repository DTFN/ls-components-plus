"use strict";var y=Object.defineProperty;var a=(r,e)=>y(r,"name",{value:e,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const M=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),w=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/Group/index.cjs"),E=require("../../util/component/index.cjs"),v=require("../../util/clazz/index.cjs"),u=require("../../util/model/index.cjs"),p=require("../../util/states/index.cjs"),T=require("../../core/task/index.cjs"),q=require("../../chart/helper/createRenderPlanner/index.cjs"),D=require("../../util/graphic/index.cjs"),h=require("../../util/log/index.cjs");var m=u.makeInner(),k=q.default(),l=function(){function r(){this.group=new w.default,this.uid=E.getUID("viewChart"),this.renderTask=T.createTask({plan:R,reset:I}),this.renderTask.context={view:this}}return a(r,"ChartView"),r.prototype.init=function(e,i){},r.prototype.render=function(e,i,n,t){if(process.env.NODE_ENV!=="production")throw new Error("render method must been implemented")},r.prototype.highlight=function(e,i,n,t){var o=e.getData(t&&t.dataType);if(!o){process.env.NODE_ENV!=="production"&&h.error("Unknown dataType "+t.dataType);return}f(o,t,"emphasis")},r.prototype.downplay=function(e,i,n,t){var o=e.getData(t&&t.dataType);if(!o){process.env.NODE_ENV!=="production"&&h.error("Unknown dataType "+t.dataType);return}f(o,t,"normal")},r.prototype.remove=function(e,i){this.group.removeAll()},r.prototype.dispose=function(e,i){},r.prototype.updateView=function(e,i,n,t){this.render(e,i,n,t)},r.prototype.updateLayout=function(e,i,n,t){this.render(e,i,n,t)},r.prototype.updateVisual=function(e,i,n,t){this.render(e,i,n,t)},r.prototype.eachRendered=function(e){D.traverseElements(this.group,e)},r.markUpdateMethod=function(e,i){m(e).updateMethod=i},r.protoInitialize=function(){var e=r.prototype;e.type="chart"}(),r}();function g(r,e,i){r&&p.isHighDownDispatcher(r)&&(e==="emphasis"?p.enterEmphasis:p.leaveEmphasis)(r,i)}a(g,"elSetState");function f(r,e,i){var n=u.queryDataIndex(r,e),t=e&&e.highlightKey!=null?p.getHighlightDigit(e.highlightKey):null;n!=null?M.each(u.normalizeToArray(n),function(o){g(r.getItemGraphicEl(o),i,t)}):r.eachItemGraphicEl(function(o){g(o,i,t)})}a(f,"toggleHighlight");v.enableClassExtend(l,["dispose"]);v.enableClassManagement(l);function R(r){return k(r.model)}a(R,"renderTaskPlan");function I(r){var e=r.model,i=r.ecModel,n=r.api,t=r.payload,o=e.pipelineContext.progressiveRender,c=r.view,s=t&&m(t).updateMethod,d=o?"incrementalPrepareRender":s&&c[s]?s:"render";return d!=="render"&&c[d](e,i,n,t),N[d]}a(I,"renderTaskReset");var N={incrementalPrepareRender:{progress:a(function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)},"progress")},render:{forceFirstProgress:!0,progress:a(function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)},"progress")}};exports.default=l;
