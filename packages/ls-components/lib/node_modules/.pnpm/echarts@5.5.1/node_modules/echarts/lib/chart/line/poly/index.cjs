"use strict";var X=Object.defineProperty;var G=(f,t)=>X(f,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const O=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),p=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/Path/index.cjs"),I=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/PathProxy/index.cjs"),U=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/curve/index.cjs");var B=Math.min,F=Math.max;function H(f,t){return isNaN(f)||isNaN(t)}G(H,"isPointNull");function L(f,t,c,v,s,o,i,u,P){for(var n,w,b,J,l,h,M=c,D=0;D<v;D++){var a=t[M*2],r=t[M*2+1];if(M>=s||M<0)break;if(H(a,r)){if(P){M+=o;continue}break}if(M===c)f[o>0?"moveTo":"lineTo"](a,r),b=a,J=r;else{var d=a-n,j=r-w;if(d*d+j*j<.5){M+=o;continue}if(i>0){for(var m=M+o,E=t[m*2],k=t[m*2+1];E===a&&k===r&&D<v;)D++,m+=o,M+=o,E=t[m*2],k=t[m*2+1],a=t[M*2],r=t[M*2+1],d=a-n,j=r-w;var V=D+1;if(P)for(;H(E,k)&&V<v;)V++,m+=o,E=t[m*2],k=t[m*2+1];var Q=.5,z=0,R=0,T=void 0,e=void 0;if(V>=v||H(E,k))l=a,h=r;else{z=E-n,R=k-w;var W=a-n,Z=E-a,$=r-w,K=k-r,A=void 0,q=void 0;if(u==="x"){A=Math.abs(W),q=Math.abs(Z);var _=z>0?1:-1;l=a-_*A*i,h=r,T=a+_*q*i,e=r}else if(u==="y"){A=Math.abs($),q=Math.abs(K);var C=R>0?1:-1;l=a,h=r-C*A*i,T=a,e=r+C*q*i}else A=Math.sqrt(W*W+$*$),q=Math.sqrt(Z*Z+K*K),Q=q/(q+A),l=a-z*i*(1-Q),h=r-R*i*(1-Q),T=a+z*i*Q,e=r+R*i*Q,T=B(T,F(E,a)),e=B(e,F(k,r)),T=F(T,B(E,a)),e=F(e,B(k,r)),z=T-a,R=e-r,l=a-z*A/q,h=r-R*A/q,l=B(l,F(n,a)),h=B(h,F(w,r)),l=F(l,B(n,a)),h=F(h,B(w,r)),z=a-l,R=r-h,T=a+z*q/A,e=r+R*q/A}f.bezierCurveTo(b,J,l,h,a,r),b=T,J=e}else f.lineTo(a,r)}n=a,w=r,M+=o}return D}G(L,"drawSegment");var N=function(){function f(){this.smooth=0,this.smoothConstraint=!0}return G(f,"ECPolylineShape"),f}(),g=function(f){O.__extends(t,f);function t(c){var v=f.call(this,c)||this;return v.type="ec-polyline",v}return G(t,"ECPolyline"),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new N},t.prototype.buildPath=function(c,v){var s=v.points,o=0,i=s.length/2;if(v.connectNulls){for(;i>0&&H(s[i*2-2],s[i*2-1]);i--);for(;o<i&&H(s[o*2],s[o*2+1]);o++);}for(;o<i;)o+=L(c,s,o,i,i,1,v.smooth,v.smoothMonotone,v.connectNulls)+1},t.prototype.getPointOn=function(c,v){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,o=s.data,i=I.default.CMD,u,P,n=v==="x",w=[],b=0;b<o.length;){var J=o[b++],l=void 0,h=void 0,M=void 0,D=void 0,a=void 0,r=void 0,d=void 0;switch(J){case i.M:u=o[b++],P=o[b++];break;case i.L:if(l=o[b++],h=o[b++],d=n?(c-u)/(l-u):(c-P)/(h-P),d<=1&&d>=0){var j=n?(h-P)*d+P:(l-u)*d+u;return n?[c,j]:[j,c]}u=l,P=h;break;case i.C:l=o[b++],h=o[b++],M=o[b++],D=o[b++],a=o[b++],r=o[b++];var m=n?U.cubicRootAt(u,l,M,a,c,w):U.cubicRootAt(P,h,D,r,c,w);if(m>0)for(var E=0;E<m;E++){var k=w[E];if(k<=1&&k>=0){var j=n?U.cubicAt(P,h,D,r,k):U.cubicAt(u,l,M,a,k);return n?[c,j]:[j,c]}}u=a,P=r;break}}},t}(p.default),S=function(f){O.__extends(t,f);function t(){return f!==null&&f.apply(this,arguments)||this}return G(t,"ECPolygonShape"),t}(N),Y=function(f){O.__extends(t,f);function t(c){var v=f.call(this,c)||this;return v.type="ec-polygon",v}return G(t,"ECPolygon"),t.prototype.getDefaultShape=function(){return new S},t.prototype.buildPath=function(c,v){var s=v.points,o=v.stackedOnPoints,i=0,u=s.length/2,P=v.smoothMonotone;if(v.connectNulls){for(;u>0&&H(s[u*2-2],s[u*2-1]);u--);for(;i<u&&H(s[i*2],s[i*2+1]);i++);}for(;i<u;){var n=L(c,s,i,u,u,1,v.smooth,P,v.connectNulls);L(c,o,i+n-1,n,u,-1,v.stackedOnSmooth,P,v.connectNulls),i+=n+1,c.closePath()}},t}(p.default);exports.ECPolygon=Y;exports.ECPolyline=g;
