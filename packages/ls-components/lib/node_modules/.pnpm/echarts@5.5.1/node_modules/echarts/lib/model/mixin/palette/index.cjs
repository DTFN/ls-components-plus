"use strict";var d=Object.defineProperty;var i=(e,t)=>d(e,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("../../../util/model/index.cjs");var P=c.makeInner();c.makeInner();var m=function(){function e(){}return i(e,"PaletteMixin"),e.prototype.getColorFromPalette=function(t,a,r){var l=c.normalizeToArray(this.get("color",!0)),o=this.get("colorLayer",!0);return M(this,P,l,o,t,a,r)},e.prototype.clearColorPalette=function(){x(this,P)},e}();function h(e,t){for(var a=e.length,r=0;r<a;r++)if(e[r].length>t)return e[r];return e[a-1]}i(h,"getNearestPalette");function M(e,t,a,r,l,o,f){o=o||e;var u=t(o),v=u.paletteIdx||0,p=u.paletteNameMap=u.paletteNameMap||{};if(p.hasOwnProperty(l))return p[l];var n=f==null||!r?a:h(r,f);if(n=n||a,!(!n||!n.length)){var g=n[v];return l&&(p[l]=g),u.paletteIdx=(v+1)%n.length,g}}i(M,"getFromPalette");function x(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}i(x,"clearPalette");exports.PaletteMixin=m;
