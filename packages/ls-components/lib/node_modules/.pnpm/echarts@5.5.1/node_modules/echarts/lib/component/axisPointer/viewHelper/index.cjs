"use strict";var C=Object.defineProperty;var c=(t,a)=>C(t,"name",{value:a,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),T=require("../../../util/graphic/index.cjs"),q=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/contain/text/index.cjs"),k=require("../../../util/format/index.cjs"),S=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/matrix/index.cjs"),E=require("../../../coord/axisHelper/index.cjs"),O=require("../../axis/AxisBuilder/index.cjs"),w=require("../../../label/labelStyle/index.cjs");function R(t){var a=t.get("type"),e=t.getModel(a+"Style"),r;return a==="line"?(r=e.getLineStyle(),r.fill=null):a==="shadow"&&(r=e.getAreaStyle(),r.stroke=null),r}c(R,"buildElStyle");function m(t,a,e,r,i){var n=e.get("value"),l=L(n,a.axis,a.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),o=e.getModel("label"),s=k.normalizeCssArray(o.get("padding")||0),u=o.getFont(),v=q.getBoundingRect(l,u),g=i.position,d=v.width+s[1]+s[3],f=v.height+s[0]+s[2],p=i.align;p==="right"&&(g[0]-=d),p==="center"&&(g[0]-=d/2);var y=i.verticalAlign;y==="bottom"&&(g[1]-=f),y==="middle"&&(g[1]-=f/2),V(g,d,f,r);var b=o.get("backgroundColor");(!b||b==="auto")&&(b=a.get(["axisLine","lineStyle","color"])),t.label={x:g[0],y:g[1],style:w.createTextStyle(o,{text:l,font:u,fill:o.getTextColor(),padding:s,backgroundColor:b}),z2:10}}c(m,"buildLabelElOption");function V(t,a,e,r){var i=r.getWidth(),n=r.getHeight();t[0]=Math.min(t[0]+a,i)-a,t[1]=Math.min(t[1]+e,n)-e,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}c(V,"confineInContainer");function L(t,a,e,r,i){t=a.scale.parse(t);var n=a.scale.getLabel({value:t},{precision:i.precision}),l=i.formatter;if(l){var o={value:E.getAxisRawValue(a,{value:t}),axisDimension:a.dim,axisIndex:a.index,seriesData:[]};h.each(r,function(s){var u=e.getSeriesByIndex(s.seriesIndex),v=s.dataIndexInside,g=u&&u.getDataParams(v);g&&o.seriesData.push(g)}),h.isString(l)?n=l.replace("{value}",n):h.isFunction(l)&&(n=l(o))}return n}c(L,"getValueLabel");function A(t,a,e){var r=S.create();return S.rotate(r,r,e.rotation),S.translate(r,r,e.position),T.applyTransform([t.dataToCoord(a),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}c(A,"getTransformedPosition");function B(t,a,e,r,i,n){var l=O.default.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),m(a,r,i,n,{position:A(r.axis,t,e),align:l.textAlign,verticalAlign:l.textVerticalAlign})}c(B,"buildCartesianSingleLabelElOption");function H(t,a,e){return e=e||0,{x1:t[e],y1:t[1-e],x2:a[e],y2:a[1-e]}}c(H,"makeLineShape");function M(t,a,e){return e=e||0,{x:t[e],y:t[1-e],width:a[e],height:a[1-e]}}c(M,"makeRectShape");exports.buildCartesianSingleLabelElOption=B;exports.buildElStyle=R;exports.buildLabelElOption=m;exports.getTransformedPosition=A;exports.getValueLabel=L;exports.makeLineShape=H;exports.makeRectShape=M;
