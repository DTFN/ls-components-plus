"use strict";var R=Object.defineProperty;var u=(e,r)=>R(e,"name",{value:r,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const k=require("../../../util/format/index.cjs"),l=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),A=require("../../../data/helper/dataValueHelper/index.cjs"),z=require("../../../util/number/index.cjs"),s=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/dom/index.cjs");var x="line-height:1";function I(e,r){var a=e.color||"#6e7079",n=e.fontSize||12,o=e.fontWeight||"400",t=e.color||"#464646",d=e.fontSize||14,i=e.fontWeight||"900";return r==="html"?{nameStyle:"font-size:"+s.encodeHTML(n+"")+"px;color:"+s.encodeHTML(a)+";font-weight:"+s.encodeHTML(o+""),valueStyle:"font-size:"+s.encodeHTML(d+"")+"px;color:"+s.encodeHTML(t)+";font-weight:"+s.encodeHTML(i+"")}:{nameStyle:{fontSize:n,fill:a,fontWeight:o},valueStyle:{fontSize:d,fill:t,fontWeight:i}}}u(I,"getTooltipTextStyle");var P=[0,10,20,30],E=["",`
`,`

`,`


`];function O(e,r){return r.type=e,r}u(O,"createTooltipMarkup");function g(e){return e.type==="section"}u(g,"isSectionFragment");function N(e){return g(e)?W:j}u(N,"getBuilder");function _(e){if(g(e)){var r=0,a=e.blocks.length,n=a>1||a>0&&!e.noHeader;return l.each(e.blocks,function(o){var t=_(o);t>=r&&(r=t+ +(n&&(!t||g(o)&&!o.noHeader)))}),r}return 0}u(_,"getBlockGapLevel");function W(e,r,a,n){var o=r.noHeader,t=D(_(r)),d=[],i=r.blocks||[];l.assert(!i||l.isArray(i)),i=i||[];var c=e.orderMode;if(r.sortBlocks&&c){i=i.slice();var y={valueAsc:"asc",valueDesc:"desc"};if(l.hasOwn(y,c)){var C=new A.SortOrderComparator(y[c],null);i.sort(function(v,m){return C.evaluate(v.sortParam,m.sortParam)})}else c==="seriesDesc"&&i.reverse()}l.each(i,function(v,m){var S=r.valueFormatter,f=N(v)(S?l.extend(l.extend({},e),{valueFormatter:S}):e,v,m>0?t.html:0,n);f!=null&&d.push(f)});var p=e.renderMode==="richText"?d.join(t.richText):H(d.join(""),o?a:t.html);if(o)return p;var h=k.makeValueReadable(r.header,"ordinal",e.useUTC),T=I(n,e.renderMode).nameStyle;return e.renderMode==="richText"?V(e,h,T)+t.richText+p:H('<div style="'+T+";"+x+';">'+s.encodeHTML(h)+"</div>"+p,a)}u(W,"buildSection");function j(e,r,a,n){var o=e.renderMode,t=r.noName,d=r.noValue,i=!r.markerType,c=r.name,y=e.useUTC,C=r.valueFormatter||e.valueFormatter||function(M){return M=l.isArray(M)?M:[M],l.map(M,function(w,L){return k.makeValueReadable(w,l.isArray(T)?T[L]:T,y)})};if(!(t&&d)){var p=i?"":e.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||"#333",o),h=t?"":k.makeValueReadable(c,"ordinal",y),T=r.valueType,v=d?[]:C(r.value,r.dataIndex),m=!i||!t,S=!i&&t,f=I(n,o),b=f.nameStyle,F=f.valueStyle;return o==="richText"?(i?"":p)+(t?"":V(e,h,b))+(d?"":B(e,v,m,S,F)):H((i?"":p)+(t?"":G(h,!i,b))+(d?"":U(v,m,S,F)),a)}}u(j,"buildNameValue");function q(e,r,a,n,o,t){if(e){var d=N(e),i={useUTC:o,renderMode:a,orderMode:n,markupStyleCreator:r,valueFormatter:e.valueFormatter};return d(i,e,0,t)}}u(q,"buildTooltipMarkup");function D(e){return{html:P[e],richText:E[e]}}u(D,"getGap");function H(e,r){var a='<div style="clear:both"></div>',n="margin: "+r+"px 0 0";return'<div style="'+n+";"+x+';">'+e+a+"</div>"}u(H,"wrapBlockHTML");function G(e,r,a){var n=r?"margin-left:2px":"";return'<span style="'+a+";"+n+'">'+s.encodeHTML(e)+"</span>"}u(G,"wrapInlineNameHTML");function U(e,r,a,n){var o=a?"10px":"20px",t=r?"float:right;margin-left:"+o:"";return e=l.isArray(e)?e:[e],'<span style="'+t+";"+n+'">'+l.map(e,function(d){return s.encodeHTML(d)}).join("&nbsp;&nbsp;")+"</span>"}u(U,"wrapInlineValueHTML");function V(e,r,a){return e.markupStyleCreator.wrapRichTextStyle(r,a)}u(V,"wrapInlineNameRichText");function B(e,r,a,n,o){var t=[o],d=n?10:20;return a&&t.push({padding:[0,0,0,d],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(l.isArray(r)?r.join("  "):r,t)}u(B,"wrapInlineValueRichText");function X(e,r){var a=e.getData().getItemVisual(r,"style"),n=a[e.visualDrawType];return k.convertToColorString(n)}u(X,"retrieveVisualColorForTooltipMarker");function J(e,r){var a=e.get("padding");return a??(r==="richText"?[8,10]:10)}u(J,"getPaddingFromTooltipModel");var K=function(){function e(){this.richTextStyles={},this._nextStyleNameId=z.getRandomIdBase()}return u(e,"TooltipMarkupStyleCreator"),e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(r,a,n){var o=n==="richText"?this._generateStyleName():null,t=k.getTooltipMarker({color:a,type:r,renderMode:n,markerId:o});return l.isString(t)?t:(process.env.NODE_ENV!=="production"&&l.assert(o),this.richTextStyles[o]=t.style,t.content)},e.prototype.wrapRichTextStyle=function(r,a){var n={};l.isArray(a)?l.each(a,function(t){return l.extend(n,t)}):l.extend(n,a);var o=this._generateStyleName();return this.richTextStyles[o]=n,"{"+o+"|"+r+"}"},e}();exports.TooltipMarkupStyleCreator=K;exports.buildTooltipMarkup=q;exports.createTooltipMarkup=O;exports.getPaddingFromTooltipModel=J;exports.retrieveVisualColorForTooltipMarker=X;
