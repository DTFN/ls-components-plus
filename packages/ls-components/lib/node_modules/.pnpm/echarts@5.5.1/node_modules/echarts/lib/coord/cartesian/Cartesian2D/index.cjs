"use strict";var d=Object.defineProperty;var l=(x,n)=>d(x,"name",{value:n,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const T=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),u=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/BoundingRect/index.cjs"),D=require("../Cartesian/index.cjs"),M=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/matrix/index.cjs"),y=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/vector/index.cjs");var g=["x","y"];function f(x){return x.type==="interval"||x.type==="time"}l(f,"canCalculateAffineTransform");var S=function(x){T.__extends(n,x);function n(){var t=x!==null&&x.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=g,t}return l(n,"Cartesian2D"),n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!f(t)||!f(r))){var a=t.getExtent(),e=r.getExtent(),i=this.dataToPoint([a[0],e[0]]),s=this.dataToPoint([a[1],e[1]]),o=a[1]-a[0],c=e[1]-e[0];if(!(!o||!c)){var h=(s[0]-i[0])/o,v=(s[1]-i[1])/c,m=i[0]-a[0]*h,A=i[1]-e[0]*v,p=this._transform=[h,0,0,v,m,A];this._invTransform=M.invert([],p)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(t){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},n.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},n.prototype.containZone=function(t,r){var a=this.dataToPoint(t),e=this.dataToPoint(r),i=this.getArea(),s=new u.default(a[0],a[1],e[0]-a[0],e[1]-a[1]);return i.intersect(s)},n.prototype.dataToPoint=function(t,r,a){a=a||[];var e=t[0],i=t[1];if(this._transform&&e!=null&&isFinite(e)&&i!=null&&isFinite(i))return y.applyTransform(a,t,this._transform);var s=this.getAxis("x"),o=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(e,r)),a[1]=o.toGlobalCoord(o.dataToCoord(i,r)),a},n.prototype.clampData=function(t,r){var a=this.getAxis("x").scale,e=this.getAxis("y").scale,i=a.getExtent(),s=e.getExtent(),o=a.parse(t[0]),c=e.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),r},n.prototype.pointToData=function(t,r){var a=[];if(this._invTransform)return y.applyTransform(a,t,this._invTransform);var e=this.getAxis("x"),i=this.getAxis("y");return a[0]=e.coordToData(e.toLocalCoord(t[0]),r),a[1]=i.coordToData(i.toLocalCoord(t[1]),r),a},n.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},n.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),e=Math.min(r[0],r[1])-t,i=Math.min(a[0],a[1])-t,s=Math.max(r[0],r[1])-e+t,o=Math.max(a[0],a[1])-i+t;return new u.default(e,i,s,o)},n}(D.default);exports.cartesian2DDimensions=g;exports.default=S;
