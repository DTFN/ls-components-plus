"use strict";var T=Object.defineProperty;var d=(r,i)=>T(r,"name",{value:i,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const w=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),S=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/BoundingRect/index.cjs"),N=require("../number/index.cjs"),B=require("../format/index.cjs");var L=w.each,z=["left","right","top","bottom","width","height"],x=[["width","left","right"],["height","top","bottom"]];function A(r,i,u,n,c){var a=0,h=0;n==null&&(n=1/0),c==null&&(c=1/0);var v=0;i.eachChild(function(f,t){var e=f.getBoundingRect(),o=i.childAt(t+1),l=o&&o.getBoundingRect(),y,s;if(r==="horizontal"){var b=e.width+(l?-l.x+e.x:0);y=a+b,y>n||f.newline?(a=0,y=b,h+=v+u,v=e.height):v=Math.max(v,e.height)}else{var P=e.height+(l?-l.y+e.y:0);s=h+P,s>c||f.newline?(a+=v+u,h=0,s=P,v=e.width):v=Math.max(v,e.width)}f.newline||(f.x=a,f.y=h,f.markRedraw(),r==="horizontal"?a=y+u:h=s+u)})}d(A,"boxLayout");var V=A;w.curry(A,"vertical");w.curry(A,"horizontal");function C(r,i,u){u=B.normalizeCssArray(u||0);var n=i.width,c=i.height,a=N.parsePercent(r.left,n),h=N.parsePercent(r.top,c),v=N.parsePercent(r.right,n),f=N.parsePercent(r.bottom,c),t=N.parsePercent(r.width,n),e=N.parsePercent(r.height,c),o=u[2]+u[0],l=u[1]+u[3],y=r.aspect;switch(isNaN(t)&&(t=n-v-l-a),isNaN(e)&&(e=c-f-o-h),y!=null&&(isNaN(t)&&isNaN(e)&&(y>n/c?t=n*.8:e=c*.8),isNaN(t)&&(t=y*e),isNaN(e)&&(e=t/y)),isNaN(a)&&(a=n-v-t-l),isNaN(h)&&(h=c-f-e-o),r.left||r.right){case"center":a=n/2-t/2-u[3];break;case"right":a=n-t-l;break}switch(r.top||r.bottom){case"middle":case"center":h=c/2-e/2-u[0];break;case"bottom":h=c-e-o;break}a=a||0,h=h||0,isNaN(t)&&(t=n-l-a-(v||0)),isNaN(e)&&(e=c-o-h-(f||0));var s=new S.default(a+u[3],h+u[0],t,e);return s.margin=u,s}d(C,"getLayoutRect");function q(r,i,u,n,c,a){var h=!c||!c.hv||c.hv[0],v=!c||!c.hv||c.hv[1],f=c&&c.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!h&&!v)return!1;var t;if(f==="raw")t=r.type==="group"?new S.default(0,0,+i.width||0,+i.height||0):r.getBoundingRect();else if(t=r.getBoundingRect(),r.needLocalTransform()){var e=r.getLocalTransform();t=t.clone(),t.applyTransform(e)}var o=C(w.defaults({width:t.width,height:t.height},i),u,n),l=h?o.x-t.x:0,y=v?o.y-t.y:0;return f==="raw"?(a.x=l,a.y=y):(a.x+=l,a.y+=y),a===r&&r.markRedraw(),!0}d(q,"positionElement");function E(r){var i=r.layoutMode||r.constructor.layoutMode;return w.isObject(i)?i:i?{type:i}:null}d(E,"fetchLayoutMode");function j(r,i,u){var n=u&&u.ignoreSize;!w.isArray(n)&&(n=[n,n]);var c=h(x[0],0),a=h(x[1],1);t(x[0],r,c),t(x[1],r,a);function h(e,o){var l={},y=0,s={},b=0,P=2;if(L(e,function(g){s[g]=r[g]}),L(e,function(g){v(i,g)&&(l[g]=s[g]=i[g]),f(l,g)&&y++,f(s,g)&&b++}),n[o])return f(i,e[1])?s[e[2]]=null:f(i,e[2])&&(s[e[1]]=null),s;if(b===P||!y)return s;if(y>=P)return l;for(var R=0;R<e.length;R++){var M=e[R];if(!v(l,M)&&v(r,M)){l[M]=r[M];break}}return l}d(h,"merge");function v(e,o){return e.hasOwnProperty(o)}d(v,"hasProp");function f(e,o){return e[o]!=null&&e[o]!=="auto"}d(f,"hasValue");function t(e,o,l){L(e,function(y){o[y]=l[y]})}d(t,"copy")}d(j,"mergeLayoutParam");function H(r){return k({},r)}d(H,"getLayoutParams");function k(r,i){return i&&r&&L(z,function(u){i.hasOwnProperty(u)&&(r[u]=i[u])}),r}d(k,"copyLayoutParams");exports.HV_NAMES=x;exports.LOCATION_PARAMS=z;exports.box=V;exports.copyLayoutParams=k;exports.fetchLayoutMode=E;exports.getLayoutParams=H;exports.getLayoutRect=C;exports.mergeLayoutParam=j;exports.positionElement=q;
