"use strict";var p=Object.defineProperty;var E=(r,n)=>p(r,"name",{value:n,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),R=require("../customGraphicTransition/index.cjs"),S=require("../basicTransition/index.cjs"),_=require("../../util/log/index.cjs"),q=require("../../util/model/index.cjs");var m=q.makeInner(),k=["percent","easing","shape","style","extra"];function w(r){r.stopAnimation("keyframe"),r.attr(m(r))}E(w,"stopPreviousKeyframeAnimationAndRestore");function K(r,n,c){if(!(!c.isAnimationEnabled()||!n)){if(t.isArray(n)){t.each(n,function(e){K(r,e,c)});return}var d=n.keyframes,f=n.duration;if(c&&f==null){var h=S.getAnimationConfig("enter",c,0);f=h&&h.duration}if(!(!d||!f)){var v=m(r);t.each(R.ELEMENT_ANIMATABLE_PROPS,function(e){if(!(e&&!r[e])){var i,T=!1;d.sort(function(s,u){return s.percent-u.percent}),t.each(d,function(s){var u=r.animators,A=e?s[e]:s;if(process.env.NODE_ENV!=="production"&&s.percent>=1&&(T=!0),!!A){var o=t.keys(A);if(e||(o=t.filter(o,function(y){return t.indexOf(k,y)<0})),!!o.length){i||(i=r.animate(e,n.loop,!0),i.scope="keyframe");for(var a=0;a<u.length;a++)u[a]!==i&&u[a].targetName===i.targetName&&u[a].stopTracks(o);e&&(v[e]=v[e]||{});var l=e?v[e]:v;t.each(o,function(y){l[y]=((e?r[e]:r)||{})[y]}),i.whenWithKeys(f*s.percent,A,o,s.easing)}}}),i&&(process.env.NODE_ENV!=="production"&&(T||_.warn("End frame with percent: 1 is missing in the keyframeAnimation.",!0)),i.delay(n.delay||0).duration(f).start(n.easing))}})}}}E(K,"applyKeyframeAnimation");exports.applyKeyframeAnimation=K;exports.stopPreviousKeyframeAnimationAndRestore=w;
