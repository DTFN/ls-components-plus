"use strict";var _=Object.defineProperty;var h=(a,r)=>_(a,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const m=require("../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),f=require("../Scale/index.cjs"),d=require("../../data/OrdinalMeta/index.cjs"),l=require("../helper/index.cjs"),s=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs");var g=function(a){m.__extends(r,a);function r(t){var e=a.call(this,t)||this;e.type="ordinal";var n=e.getSetting("ordinalMeta");return n||(n=new d.default({})),s.isArray(n)&&(n=new d.default({categories:s.map(n,function(o){return s.isObject(o)?o.value:o})})),e._ordinalMeta=n,e._extent=e.getSetting("extent")||[0,n.categories.length-1],e}return h(r,"OrdinalScale"),r.prototype.parse=function(t){return t==null?NaN:s.isString(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},r.prototype.contain=function(t){return t=this.parse(t),l.contain(t,this._extent)&&this._ordinalMeta.categories[t]!=null},r.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),l.normalize(t,this._extent)},r.prototype.scale=function(t){return t=Math.round(l.scale(t,this._extent)),this.getRawOrdinalNumber(t)},r.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},r.prototype.getMinorTicks=function(t){},r.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],i=0,c=this._ordinalMeta.categories.length,y=Math.min(c,e.length);i<y;++i){var p=e[i];n[i]=p,o[p]=i}for(var u=0;i<c;++i){for(;o[u]!=null;)u++;n.push(u),o[u]=i}},r.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},r.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},r.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return n==null?"":n+""}},r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r.prototype.calcNiceTicks=function(){},r.prototype.calcNiceExtent=function(){},r.type="ordinal",r}(f.default);f.default.registerClass(g);exports.default=g;
