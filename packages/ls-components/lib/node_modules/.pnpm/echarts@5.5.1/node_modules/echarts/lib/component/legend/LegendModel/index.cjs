"use strict";var g=Object.defineProperty;var u=(l,i)=>g(l,"name",{value:i,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const v=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),n=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),y=require("../../../model/Model/index.cjs"),b=require("../../../util/model/index.cjs"),m=require("../../../model/Component/index.cjs");var S=u(function(l,i){if(i==="all")return{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])};if(i==="inverse")return{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}},"getDefaultSelectorOptions"),_=function(l){v.__extends(i,l);function i(){var e=l!==null&&l.apply(this,arguments)||this;return e.type=i.type,e.layoutMode={type:"box",ignoreSize:!0},e}return u(i,"LegendModel"),i.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},i.prototype.mergeOption=function(e,t){l.prototype.mergeOption.call(this,e,t),this._updateSelector(e)},i.prototype._updateSelector=function(e){var t=e.selector,r=this.ecModel;t===!0&&(t=e.selector=["all","inverse"]),n.isArray(t)&&n.each(t,function(o,s){n.isString(o)&&(o={type:o}),t[s]=n.merge(o,S(r,o.type))})},i.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var t=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),t=!0;break}}!t&&this.select(e[0].get("name"))}},i.prototype._updateData=function(e){var t=[],r=[];e.eachRawSeries(function(a){var p=a.name;r.push(p);var c;if(a.legendVisualProvider){var f=a.legendVisualProvider,d=f.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(d)),d.length?t=t.concat(d):c=!0}else c=!0;c&&b.isNameSpecified(a)&&t.push(a.name)}),this._availableNames=r;var o=this.get("data")||t,s=n.createHashMap(),h=n.map(o,function(a){return(n.isString(a)||n.isNumber(a))&&(a={name:a}),s.get(a.name)?null:(s.set(a.name,!0),new y.default(a,this,this.ecModel))},this);this._data=n.filter(h,function(a){return!!a})},i.prototype.getData=function(){return this._data},i.prototype.select=function(e){var t=this.option.selected,r=this.get("selectedMode");if(r==="single"){var o=this._data;n.each(o,function(s){t[s.get("name")]=!1})}t[e]=!0},i.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},i.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},i.prototype.allSelect=function(){var e=this._data,t=this.option.selected;n.each(e,function(r){t[r.get("name",!0)]=!0})},i.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;n.each(e,function(r){var o=r.get("name",!0);t.hasOwnProperty(o)||(t[o]=!0),t[o]=!t[o]})},i.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&n.indexOf(this._availableNames,e)>=0},i.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},i.type="legend.plain",i.dependencies=["series"],i.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},i}(m.default);exports.default=_;
