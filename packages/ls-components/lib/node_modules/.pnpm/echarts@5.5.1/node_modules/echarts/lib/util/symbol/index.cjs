"use strict";var q=Object.defineProperty;var c=(i,r)=>q(i,"name",{value:r,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),T=require("../graphic/index.cjs"),s=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/BoundingRect/index.cjs"),C=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/contain/text/index.cjs"),M=require("../number/index.cjs"),v=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/Path/index.cjs"),k=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/shape/Line/index.cjs"),w=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/shape/Rect/index.cjs"),B=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/graphic/shape/Circle/index.cjs");var R=v.default.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:c(function(i,r){var e=r.cx,n=r.cy,t=r.width/2,a=r.height/2;i.moveTo(e,n-a),i.lineTo(e+t,n+a),i.lineTo(e-t,n+a),i.closePath()},"buildPath")}),b=v.default.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:c(function(i,r){var e=r.cx,n=r.cy,t=r.width/2,a=r.height/2;i.moveTo(e,n-a),i.lineTo(e+t,n),i.lineTo(e,n+a),i.lineTo(e-t,n),i.closePath()},"buildPath")}),z=v.default.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:c(function(i,r){var e=r.x,n=r.y,t=r.width/5*3,a=Math.max(t,r.height),o=t/2,d=o*o/(a-o),u=n-a+o+d,l=Math.asin(d/o),h=Math.cos(l)*o,P=Math.sin(l),y=Math.cos(l),f=o*.6,m=o*.7;i.moveTo(e-h,u+d),i.arc(e,u,o,Math.PI-l,Math.PI*2+l),i.bezierCurveTo(e+h-P*f,u+d+y*f,e,n-m,e,n),i.bezierCurveTo(e,n-m,e-h+P*f,u+d+y*f,e-h,u+d),i.closePath()},"buildPath")}),L=v.default.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:c(function(i,r){var e=r.height,n=r.width,t=r.x,a=r.y,o=n/3*2;i.moveTo(t,a),i.lineTo(t+o,a+e),i.lineTo(t,a+e/4*3),i.lineTo(t-o,a+e),i.lineTo(t,a),i.closePath()},"buildPath")}),_={line:k.default,rect:w.default,roundRect:w.default,square:w.default,circle:B.default,diamond:b,pin:z,arrow:L,triangle:R},E={line:c(function(i,r,e,n,t){t.x1=i,t.y1=r+n/2,t.x2=i+e,t.y2=r+n/2},"line"),rect:c(function(i,r,e,n,t){t.x=i,t.y=r,t.width=e,t.height=n},"rect"),roundRect:c(function(i,r,e,n,t){t.x=i,t.y=r,t.width=e,t.height=n,t.r=Math.min(e,n)/4},"roundRect"),square:c(function(i,r,e,n,t){var a=Math.min(e,n);t.x=i,t.y=r,t.width=a,t.height=a},"square"),circle:c(function(i,r,e,n,t){t.cx=i+e/2,t.cy=r+n/2,t.r=Math.min(e,n)/2},"circle"),diamond:c(function(i,r,e,n,t){t.cx=i+e/2,t.cy=r+n/2,t.width=e,t.height=n},"diamond"),pin:c(function(i,r,e,n,t){t.x=i+e/2,t.y=r+n/2,t.width=e,t.height=n},"pin"),arrow:c(function(i,r,e,n,t){t.x=i+e/2,t.y=r+n/2,t.width=e,t.height=n},"arrow"),triangle:c(function(i,r,e,n,t){t.cx=i+e/2,t.cy=r+n/2,t.width=e,t.height=n},"triangle")},x={};g.each(_,function(i,r){x[r]=new i});var I=v.default.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:c(function(i,r,e){var n=C.calculateTextPosition(i,r,e),t=this.shape;return t&&t.symbolType==="pin"&&r.position==="inside"&&(n.y=e.y+e.height*.4),n},"calculateTextPosition"),buildPath:c(function(i,r,e){var n=r.symbolType;if(n!=="none"){var t=x[n];t||(n="rect",t=x[n]),E[n](r.x,r.y,r.width,r.height,t.shape),t.buildPath(i,t.shape,e)}},"buildPath")});function A(i,r){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=r||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=i:e.fill=i,this.markRedraw()}}c(A,"symbolPathSetColor");function j(i,r,e,n,t,a,o){var d=i.indexOf("empty")===0;d&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var u;return i.indexOf("image://")===0?u=T.makeImage(i.slice(8),new s.default(r,e,n,t),o?"center":"cover"):i.indexOf("path://")===0?u=T.makePath(i.slice(7),{},new s.default(r,e,n,t),o?"center":"cover"):u=new I({shape:{symbolType:i,x:r,y:e,width:n,height:t}}),u.__isEmptyBrush=d,u.setColor=A,a&&u.setColor(a),u}c(j,"createSymbol");function D(i){return g.isArray(i)||(i=[+i,+i]),[i[0]||0,i[1]||0]}c(D,"normalizeSymbolSize");function W(i,r){if(i!=null)return g.isArray(i)||(i=[i,i]),[M.parsePercent(i[0],r[0])||0,M.parsePercent(g.retrieve2(i[1],i[0]),r[1])||0]}c(W,"normalizeSymbolOffset");exports.createSymbol=j;exports.normalizeSymbolOffset=W;exports.normalizeSymbolSize=D;exports.symbolBuildProxies=x;
