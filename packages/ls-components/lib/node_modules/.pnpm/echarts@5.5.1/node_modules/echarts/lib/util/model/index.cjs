"use strict";var q=Object.defineProperty;var t=(e,n)=>q(e,"name",{value:n,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs"),D=require("../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/env/index.cjs"),I=require("../number/index.cjs"),P=require("../log/index.cjs");function T(e,n,r){return(n-e)*r+e}t(T,"interpolateNumber");var m="series\0",S="\0_ec_\0";function p(e){return e instanceof Array?e:e==null?[]:[e]}t(p,"normalizeToArray");function O(e,n,r){if(e){e[n]=e[n]||{},e.emphasis=e.emphasis||{},e.emphasis[n]=e.emphasis[n]||{};for(var i=0,a=r.length;i<a;i++){var u=r[i];!e.emphasis[n].hasOwnProperty(u)&&e[n].hasOwnProperty(u)&&(e.emphasis[n][u]=e[n][u])}}}t(O,"defaultEmphasis");var F=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function L(e){return l.isObject(e)&&!l.isArray(e)&&!(e instanceof Date)?e.value:e}t(L,"getDataItemValue");function k(e){return l.isObject(e)&&!(e instanceof Array)}t(k,"isDataItemOption");function B(e,n,r){var i=r==="normalMerge",a=r==="replaceMerge",u=r==="replaceAll";e=e||[],n=(n||[]).slice();var f=l.createHashMap();l.each(n,function(s,v){if(!l.isObject(s)){n[v]=null;return}process.env.NODE_ENV!=="production"&&(s.id!=null&&!E(s.id)&&M(s.id),s.name!=null&&!E(s.name)&&M(s.name))});var o=C(e,f,r);return(i||a)&&G(o,e,f,n),i&&X(o,n),i||a?Y(o,n,a):u&&j(o,n),H(o),o}t(B,"mappingToExists");function C(e,n,r){var i=[];if(r==="replaceAll")return i;for(var a=0;a<e.length;a++){var u=e[a];u&&u.id!=null&&n.set(u.id,a),i.push({existing:r==="replaceMerge"||g(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return i}t(C,"prepareResult");function G(e,n,r,i){l.each(i,function(a,u){if(!(!a||a.id==null)){var f=h(a.id),o=r.get(f);if(o!=null){var s=e[o];l.assert(!s.newOption,'Duplicated option on id "'+f+'".'),s.newOption=a,s.existing=n[o],i[u]=null}}})}t(G,"mappingById");function X(e,n){l.each(n,function(r,i){if(!(!r||r.name==null))for(var a=0;a<e.length;a++){var u=e[a].existing;if(!e[a].newOption&&u&&(u.id==null||r.id==null)&&!g(r)&&!g(u)&&w("name",u,r)){e[a].newOption=r,n[i]=null;return}}})}t(X,"mappingByName");function Y(e,n,r){l.each(n,function(i){if(i){for(var a,u=0;(a=e[u])&&(a.newOption||g(a.existing)||a.existing&&i.id!=null&&!w("id",i,a.existing));)u++;a?(a.newOption=i,a.brandNew=r):e.push({newOption:i,brandNew:r,existing:null,keyInfo:null}),u++}})}t(Y,"mappingByIndex");function j(e,n){l.each(n,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}t(j,"mappingInReplaceAllMode");function H(e){var n=l.createHashMap();l.each(e,function(r){var i=r.existing;i&&n.set(i.id,r)}),l.each(e,function(r){var i=r.newOption;l.assert(!i||i.id==null||!n.get(i.id)||n.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&n.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),l.each(e,function(r,i){var a=r.existing,u=r.newOption,f=r.keyInfo;if(l.isObject(u)){if(f.name=u.name!=null?h(u.name):a?a.name:m+i,a)f.id=h(a.id);else if(u.id!=null)f.id=h(u.id);else{var o=0;do f.id="\0"+f.name+"\0"+o++;while(n.get(f.id))}n.set(f.id,r)}})}t(H,"makeIdAndName");function w(e,n,r){var i=b(n[e],null),a=b(r[e],null);return i!=null&&a!=null&&i===a}t(w,"keyExistAndEqual");function h(e){if(process.env.NODE_ENV!=="production"&&e==null)throw new Error;return b(e,"")}t(h,"makeComparableKey");function b(e,n){return e==null?n:l.isString(e)?e:l.isNumber(e)||l.isStringSafe(e)?e+"":n}t(b,"convertOptionIdName");function M(e){process.env.NODE_ENV!=="production"&&P.warn("`"+e+"` is invalid id or name. Must be a string or number.")}t(M,"warnInvalidateIdOrName");function E(e){return l.isStringSafe(e)||I.isNumeric(e)}t(E,"isValidIdOrName");function K(e){var n=e.name;return!!(n&&n.indexOf(m))}t(K,"isNameSpecified");function g(e){return e&&e.id!=null&&h(e.id).indexOf(S)===0}t(g,"isComponentIdInternal");function U(e){return S+e}t(U,"makeInternalComponentId");function z(e,n,r){l.each(e,function(i){var a=i.newOption;l.isObject(a)&&(i.keyInfo.mainType=n,i.keyInfo.subType=W(n,a,i.existing,r))})}t(z,"setComponentTypeToKeyInfo");function W(e,n,r,i){var a=n.type?n.type:r?r.subType:i.determineSubType(e,n);return a}t(W,"determineSubType");function $(e,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return l.isArray(n.dataIndex)?l.map(n.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(n.dataIndex);if(n.name!=null)return l.isArray(n.name)?l.map(n.name,function(r){return e.indexOfName(r)}):e.indexOfName(n.name)}t($,"queryDataIndex");function J(){var e="__ec_inner_"+Q++;return function(n){return n[e]||(n[e]={})}}t(J,"makeInner");var Q=I.getRandomIdBase();function Z(e,n,r){var i=R(n,r),a=i.mainTypeSpecified,u=i.queryOptionMap,f=i.others,o=f,s=r?r.defaultMainType:null;return!a&&s&&u.set(s,{}),u.each(function(v,c){var d=A(e,c,v,{useDefault:s===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[c+"Models"]=d.models,o[c+"Model"]=d.models[0]}),o}t(Z,"parseFinder");function R(e,n){var r;if(l.isString(e)){var i={};i[e+"Index"]=0,r=i}else r=e;var a=l.createHashMap(),u={},f=!1;return l.each(r,function(o,s){if(s==="dataIndex"||s==="dataIndexInside"){u[s]=o;return}var v=s.match(/^(\w+)(Index|Id|Name)$/)||[],c=v[1],d=(v[2]||"").toLowerCase();if(!(!c||!d||n&&n.includeMainTypes&&l.indexOf(n.includeMainTypes,c)<0)){f=f||!!c;var x=a.get(c)||a.set(c,{});x[d]=o}}),{mainTypeSpecified:f,queryOptionMap:a,others:u}}t(R,"preParseFinder");var _={useDefault:!0,enableAll:!1,enableNone:!1},V={useDefault:!1,enableAll:!0,enableNone:!0};function A(e,n,r,i){i=i||_;var a=r.index,u=r.id,f=r.name,o={models:null,specified:a!=null||u!=null||f!=null};if(!o.specified){var s=void 0;return o.models=i.useDefault&&(s=e.getComponent(n))?[s]:[],o}return a==="none"||a===!1?(l.assert(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(a==="all"&&(l.assert(i.enableAll,'`"all"` is not a valid value on index option.'),a=u=f=null),o.models=e.queryComponents({mainType:n,index:a,id:u,name:f}),o)}t(A,"queryReferringComponents");function ee(e,n,r){e.setAttribute?e.setAttribute(n,r):e[n]=r}t(ee,"setAttribute");function ne(e,n){return e.getAttribute?e.getAttribute(n):e[n]}t(ne,"getAttribute");function re(e){return e==="auto"?D.default.domSupported?"html":"richText":e||"html"}t(re,"getTooltipRenderMode");function ie(e,n,r,i,a){var u=n==null||n==="auto";if(i==null)return i;if(l.isNumber(i)){var f=T(r||0,i,a);return I.round(f,u?Math.max(I.getPrecision(r||0),I.getPrecision(i)):n)}else{if(l.isString(i))return a<1?r:i;for(var o=[],s=r,v=i,c=Math.max(s?s.length:0,v.length),d=0;d<c;++d){var x=e.getDimensionInfo(d);if(x&&x.type==="ordinal")o[d]=(a<1&&s?s:v)[d];else{var y=s&&s[d]?s[d]:0,N=v[d],f=T(y,N,a);o[d]=I.round(f,u?Math.max(I.getPrecision(y),I.getPrecision(N)):n)}}return o}}t(ie,"interpolateRawValues");exports.MULTIPLE_REFERRING=V;exports.SINGLE_REFERRING=_;exports.TEXT_STYLE_OPTIONS=F;exports.convertOptionIdName=b;exports.defaultEmphasis=O;exports.getAttribute=ne;exports.getDataItemValue=L;exports.getTooltipRenderMode=re;exports.interpolateRawValues=ie;exports.isComponentIdInternal=g;exports.isDataItemOption=k;exports.isNameSpecified=K;exports.makeInner=J;exports.makeInternalComponentId=U;exports.mappingToExists=B;exports.normalizeToArray=p;exports.parseFinder=Z;exports.preParseFinder=R;exports.queryDataIndex=$;exports.queryReferringComponents=A;exports.setAttribute=ee;exports.setComponentTypeToKeyInfo=z;
