"use strict";var m=Object.defineProperty;var p=(i,a)=>m(i,"name",{value:a,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const y=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),S=require("../DataZoomView/index.cjs"),f=require("../../helper/sliderMove/index.cjs"),v=require("../roams/index.cjs"),g=require("../../../../../../../zrender@5.6.0/node_modules/zrender/lib/core/util/index.cjs");var M=function(i){y.__extends(a,i);function a(){var n=i!==null&&i.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return p(a,"InsideZoomView"),a.prototype.render=function(n,s,l){if(i.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),v.setViewInfoToCoordSysRecord(l,n,{pan:g.bind(c.pan,this),zoom:g.bind(c.zoom,this),scrollMove:g.bind(c.scrollMove,this)})},a.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){v.disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},a.type="dataZoom.inside",a}(S.default),c={zoom:p(function(i,a,n,s){var l=this.range,t=l.slice(),e=i.axisModels[0];if(e){var r=u[a](null,[s.originX,s.originY],e,n,i),o=(r.signal>0?r.pixelStart+r.pixelLength-r.pixel:r.pixel-r.pixelStart)/r.pixelLength*(t[1]-t[0])+t[0],x=Math.max(1/s.scale,0);t[0]=(t[0]-o)*x+o,t[1]=(t[1]-o)*x+o;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(f.default(0,t,[0,100],0,d.minSpan,d.maxSpan),this.range=t,l[0]!==t[0]||l[1]!==t[1])return t}},"zoom"),pan:h(function(i,a,n,s,l,t){var e=u[s]([t.oldX,t.oldY],[t.newX,t.newY],a,l,n);return e.signal*(i[1]-i[0])*e.pixel/e.pixelLength}),scrollMove:h(function(i,a,n,s,l,t){var e=u[s]([0,0],[t.scrollDelta,t.scrollDelta],a,l,n);return e.signal*(i[1]-i[0])*t.scrollDelta})};function h(i){return function(a,n,s,l){var t=this.range,e=t.slice(),r=a.axisModels[0];if(r){var o=i(e,r,a,n,s,l);if(f.default(o,e,[0,100],"all"),this.range=e,t[0]!==e[0]||t[1]!==e[1])return e}}}p(h,"makeMover");var u={grid:p(function(i,a,n,s,l){var t=n.axis,e={},r=l.model.coordinateSystem.getRect();return i=i||[0,0],t.dim==="x"?(e.pixel=a[0]-i[0],e.pixelLength=r.width,e.pixelStart=r.x,e.signal=t.inverse?1:-1):(e.pixel=a[1]-i[1],e.pixelLength=r.height,e.pixelStart=r.y,e.signal=t.inverse?-1:1),e},"grid"),polar:p(function(i,a,n,s,l){var t=n.axis,e={},r=l.model.coordinateSystem,o=r.getRadiusAxis().getExtent(),x=r.getAngleAxis().getExtent();return i=i?r.pointToCoord(i):[0,0],a=r.pointToCoord(a),n.mainType==="radiusAxis"?(e.pixel=a[0]-i[0],e.pixelLength=o[1]-o[0],e.pixelStart=o[0],e.signal=t.inverse?1:-1):(e.pixel=a[1]-i[1],e.pixelLength=x[1]-x[0],e.pixelStart=x[0],e.signal=t.inverse?-1:1),e},"polar"),singleAxis:p(function(i,a,n,s,l){var t=n.axis,e=l.model.coordinateSystem.getRect(),r={};return i=i||[0,0],t.orient==="horizontal"?(r.pixel=a[0]-i[0],r.pixelLength=e.width,r.pixelStart=e.x,r.signal=t.inverse?1:-1):(r.pixel=a[1]-i[1],r.pixelLength=e.height,r.pixelStart=e.y,r.signal=t.inverse?-1:1),r},"singleAxis")};exports.default=M;
