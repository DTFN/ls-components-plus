"use strict";var w=Object.defineProperty;var g=(e,t)=>w(e,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const p=require("../../core/BoundingRect/index.cjs"),L=require("../../core/LRU/index.cjs"),m=require("../../core/platform/index.cjs");var v={};function b(e,t){t=t||m.DEFAULT_FONT;var r=v[t];r||(r=v[t]=new L.default(500));var c=r.get(e);return c==null&&(c=m.platformApi.measureText(e,t).width,r.put(e,c)),c}g(b,"getWidth");function h(e,t,r,c){var i=b(e,t),u=x(t),a=k(0,i,r),d=T(0,u,c),n=new p.default(a,d,i,u);return n}g(h,"innerGetBoundingRect");function y(e,t,r,c){var i=((e||"")+"").split(`
`),u=i.length;if(u===1)return h(i[0],t,r,c);for(var a=new p.default(0,0,0,0),d=0;d<i.length;d++){var n=h(i[d],t,r,c);d===0?a.copy(n):a.union(n)}return a}g(y,"getBoundingRect");function k(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}g(k,"adjustTextX");function T(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}g(T,"adjustTextY");function x(e){return b("å›½",e)}g(x,"getLineHeight");function f(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}g(f,"parsePercent");function B(e,t,r){var c=t.position||"inside",i=t.distance!=null?t.distance:5,u=r.height,a=r.width,d=u/2,n=r.x,s=r.y,o="left",l="top";if(c instanceof Array)n+=f(c[0],r.width),s+=f(c[1],r.height),o=null,l=null;else switch(c){case"left":n-=i,s+=d,o="right",l="middle";break;case"right":n+=i+a,s+=d,l="middle";break;case"top":n+=a/2,s-=i,o="center",l="bottom";break;case"bottom":n+=a/2,s+=u+i,o="center";break;case"inside":n+=a/2,s+=d,o="center",l="middle";break;case"insideLeft":n+=i,s+=d,l="middle";break;case"insideRight":n+=a-i,s+=d,o="right",l="middle";break;case"insideTop":n+=a/2,s+=i,o="center";break;case"insideBottom":n+=a/2,s+=u-i,o="center",l="bottom";break;case"insideTopLeft":n+=i,s+=i;break;case"insideTopRight":n+=a-i,s+=i,o="right";break;case"insideBottomLeft":n+=i,s+=u-i,l="bottom";break;case"insideBottomRight":n+=a-i,s+=u-i,o="right",l="bottom";break}return e=e||{},e.x=n,e.y=s,e.align=o,e.verticalAlign=l,e}g(B,"calculateTextPosition");exports.adjustTextX=k;exports.adjustTextY=T;exports.calculateTextPosition=B;exports.getBoundingRect=y;exports.getLineHeight=x;exports.getWidth=b;exports.innerGetBoundingRect=h;exports.parsePercent=f;
