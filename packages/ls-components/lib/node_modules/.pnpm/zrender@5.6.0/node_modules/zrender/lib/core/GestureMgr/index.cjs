"use strict";var p=Object.defineProperty;var i=(r,t)=>p(r,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const v=require("../event/index.cjs");var l=function(){function r(){this._track=[]}return i(r,"GestureMgr"),r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var o=t.touches;if(o){for(var c={points:[],touches:[],target:e,event:t},u=0,g=o.length;u<g;u++){var s=o[u],a=v.clientToLocal(n,s,{});c.points.push([a.zrX,a.zrY]),c.touches.push(s)}this._track.push(c)}},r.prototype._recognize=function(t){for(var e in h)if(h.hasOwnProperty(e)){var n=h[e](this._track,t);if(n)return n}},r}();function f(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}i(f,"dist");function y(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}i(y,"center");var h={pinch:i(function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,o=(r[e-2]||{}).points||n;if(o&&o.length>1&&n&&n.length>1){var c=f(n)/f(o);!isFinite(c)&&(c=1),t.pinchScale=c;var u=y(n);return t.pinchX=u[0],t.pinchY=u[1],{type:"pinch",target:r[0].target,event:t}}}},"pinch")};exports.GestureMgr=l;
