"use strict";var p=Object.defineProperty;var i=(e,t)=>p(e,"name",{value:t,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("../env/index.cjs"),c=require("../dom/index.cjs");var X=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,f=[],g=s.default.browser.firefox&&+s.default.browser.version.split(".")[0]<39;function u(e,t,r,n){return r=r||{},n?d(e,t,r):g&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):d(e,t,r),r}i(u,"clientToLocal");function d(e,t,r){if(s.default.domSupported&&e.getBoundingClientRect){var n=t.clientX,l=t.clientY;if(c.isCanvasEl(e)){var a=e.getBoundingClientRect();r.zrX=n-a.left,r.zrY=l-a.top;return}else if(c.transformCoordWithViewport(f,e,n,l)){r.zrX=f[0],r.zrY=f[1];return}}r.zrX=r.zrY=0}i(d,"calculateZrXY");function h(e){return e||window.event}i(h,"getNativeEvent");function E(e,t,r){if(t=h(t),t.zrX!=null)return t;var n=t.type,l=n&&n.indexOf("touch")>=0;if(l){var v=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];v&&u(e,v,t,r)}else{u(e,t,t,r);var a=z(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&X.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}i(E,"normalizeEvent");function z(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var l=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*l*a}i(z,"getWheelDeltaMayPolyfill");function w(e,t,r,n){e.addEventListener(t,r,n)}i(w,"addEventListener");function Y(e,t,r,n){e.removeEventListener(t,r,n)}i(Y,"removeEventListener");var m=i(function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},"stop");function y(e){return e.which===2||e.which===3}i(y,"isMiddleOrRightButtonOnMouseUpDown");exports.addEventListener=w;exports.clientToLocal=u;exports.getNativeEvent=h;exports.isMiddleOrRightButtonOnMouseUpDown=y;exports.normalizeEvent=E;exports.removeEventListener=Y;exports.stop=m;
