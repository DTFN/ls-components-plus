"use strict";var E=Object.defineProperty;var f=(o,r)=>E(o,"name",{value:r,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const b=require("../env/index.cjs"),g=require("../fourPointsTransform/index.cjs");var h="___zrEVENTSAVED",d=[];function S(o,r,t,a,u){return c(d,r,a,u,!0)&&c(o,t,d[0],d[1])}f(S,"transformLocalCoord");function c(o,r,t,a,u){if(r.getBoundingClientRect&&b.default.domSupported&&!T(r)){var e=r[h]||(r[h]={}),n=V(r,e),i=_(n,e,u);if(i)return i(o,t,a),!0}return!1}f(c,"transformCoordWithViewport");function V(o,r){var t=r.markers;if(t)return t;t=r.markers=[];for(var a=["left","right"],u=["top","bottom"],e=0;e<4;e++){var n=document.createElement("div"),i=n.style,p=e%2,s=(e>>1)%2;i.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[p]+":0",u[s]+":0",a[1-p]+":auto",u[1-s]+":auto",""].join("!important;"),o.appendChild(n),t.push(n)}return t}f(V,"prepareCoordMarkers");function _(o,r,t){for(var a=t?"invTrans":"trans",u=r[a],e=r.srcCoords,n=[],i=[],p=!0,s=0;s<4;s++){var v=o[s].getBoundingClientRect(),l=2*s,m=v.left,C=v.top;n.push(m,C),p=p&&e&&m===e[l]&&C===e[l+1],i.push(o[s].offsetLeft,o[s].offsetTop)}return p&&u?u:(r.srcCoords=n,r[a]=t?g.buildTransformer(i,n):g.buildTransformer(n,i))}f(_,"preparePointerTransformer");function T(o){return o.nodeName.toUpperCase()==="CANVAS"}f(T,"isCanvasEl");var L=/([&<>"'])/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function N(o){return o==null?"":(o+"").replace(L,function(r,t){return M[t]})}f(N,"encodeHTML");exports.encodeHTML=N;exports.isCanvasEl=T;exports.transformCoordWithViewport=c;exports.transformLocalCoord=S;
