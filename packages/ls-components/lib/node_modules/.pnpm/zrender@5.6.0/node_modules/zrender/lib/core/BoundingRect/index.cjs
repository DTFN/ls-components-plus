"use strict";var O=Object.defineProperty;var I=(e,i)=>O(e,"name",{value:i,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const q=require("../matrix/index.cjs"),n=require("../Point/index.cjs");var B=Math.min,P=Math.max,f=new n.default,r=new n.default,y=new n.default,l=new n.default,m=new n.default,T=new n.default,X=function(){function e(i,h,t,a){t<0&&(i=i+t,t=-t),a<0&&(h=h+a,a=-a),this.x=i,this.y=h,this.width=t,this.height=a}return I(e,"BoundingRect"),e.prototype.union=function(i){var h=B(i.x,this.x),t=B(i.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=P(i.x+i.width,this.x+this.width)-h:this.width=i.width,isFinite(this.y)&&isFinite(this.height)?this.height=P(i.y+i.height,this.y+this.height)-t:this.height=i.height,this.x=h,this.y=t},e.prototype.applyTransform=function(i){e.applyTransform(this,this,i)},e.prototype.calculateTransform=function(i){var h=this,t=i.width/h.width,a=i.height/h.height,s=q.create();return q.translate(s,s,[-h.x,-h.y]),q.scale(s,s,[t,a]),q.translate(s,s,[i.x,i.y]),s},e.prototype.intersect=function(i,h){if(!i)return!1;i instanceof e||(i=e.create(i));var t=this,a=t.x,s=t.x+t.width,v=t.y,u=t.y+t.height,x=i.x,p=i.x+i.width,R=i.y,S=i.y+i.height,_=!(s<x||p<a||u<R||S<v);if(h){var M=1/0,g=0,w=Math.abs(s-x),c=Math.abs(p-a),d=Math.abs(u-R),F=Math.abs(S-v),o=Math.min(w,c),j=Math.min(d,F);s<x||p<a?o>g&&(g=o,w<c?n.default.set(T,-w,0):n.default.set(T,c,0)):o<M&&(M=o,w<c?n.default.set(m,w,0):n.default.set(m,-c,0)),u<R||S<v?j>g&&(g=j,d<F?n.default.set(T,0,-d):n.default.set(T,0,F)):o<M&&(M=o,d<F?n.default.set(m,0,d):n.default.set(m,0,-F))}return h&&n.default.copy(h,_?m:T),_},e.prototype.contain=function(i,h){var t=this;return i>=t.x&&i<=t.x+t.width&&h>=t.y&&h<=t.y+t.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(i){e.copy(this,i)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(i){return new e(i.x,i.y,i.width,i.height)},e.copy=function(i,h){i.x=h.x,i.y=h.y,i.width=h.width,i.height=h.height},e.applyTransform=function(i,h,t){if(!t){i!==h&&e.copy(i,h);return}if(t[1]<1e-5&&t[1]>-1e-5&&t[2]<1e-5&&t[2]>-1e-5){var a=t[0],s=t[3],v=t[4],u=t[5];i.x=h.x*a+v,i.y=h.y*s+u,i.width=h.width*a,i.height=h.height*s,i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height);return}f.x=y.x=h.x,f.y=l.y=h.y,r.x=l.x=h.x+h.width,r.y=y.y=h.y+h.height,f.transform(t),l.transform(t),r.transform(t),y.transform(t),i.x=B(f.x,r.x,y.x,l.x),i.y=B(f.y,r.y,y.y,l.y);var x=P(f.x,r.x,y.x,l.x),p=P(f.y,r.y,y.y,l.y);i.width=x-i.x,i.height=p-i.y},e}();exports.default=X;
