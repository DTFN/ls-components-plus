"use strict";var l=Object.defineProperty;var u=(t,e)=>l(t,"name",{value:e,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("../easing/index.cjs"),s=require("../../core/util/index.cjs"),c=require("../cubicEasing/index.cjs");var p=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||s.noop,this.ondestroy=e.ondestroy||s.noop,this.onrestart=e.onrestart||s.noop,e.easing&&this.setEasing(e.easing)}return u(t,"Clip"),t.prototype.step=function(e,o){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=o;return}var r=this._life,n=e-this._startTime-this._pausedTime,i=n/r;i<0&&(i=0),i=Math.min(i,1);var a=this.easingFunc,h=a?a(i):i;if(this.onframe(h),i===1)if(this.loop){var f=n%r;this._startTime=e-f,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=s.isFunction(e)?e:d.default[e]||c.createCubicEasingFunc(e)},t}();exports.default=p;
