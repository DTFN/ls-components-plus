"use strict";var S=Object.defineProperty;var p=(t,r)=>S(t,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const z=require("../../../../../../../tslib@2.3.0/node_modules/tslib/tslib.es6/index.cjs"),C=require("../../Path/index.cjs"),D=require("../../../core/vector/index.cjs"),c=require("../../../core/curve/index.cjs");var u=[],q=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return p(t,"BezierCurveShape"),t}();function b(t,r,e){var i=t.cpx2,a=t.cpy2;return i!=null||a!=null?[(e?c.cubicDerivativeAt:c.cubicAt)(t.x1,t.cpx1,t.cpx2,t.x2,r),(e?c.cubicDerivativeAt:c.cubicAt)(t.y1,t.cpy1,t.cpy2,t.y2,r)]:[(e?c.quadraticDerivativeAt:c.quadraticAt)(t.x1,t.cpx1,t.x2,r),(e?c.quadraticDerivativeAt:c.quadraticAt)(t.y1,t.cpy1,t.y2,r)]}p(b,"someVectorAt");var A=function(t){z.__extends(r,t);function r(e){return t.call(this,e)||this}return p(r,"BezierCurve"),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new q},r.prototype.buildPath=function(e,i){var a=i.x1,x=i.y1,o=i.x2,v=i.y2,l=i.cpx1,y=i.cpy1,d=i.cpx2,f=i.cpy2,n=i.percent;n!==0&&(e.moveTo(a,x),d==null||f==null?(n<1&&(c.quadraticSubdivide(a,l,o,n,u),l=u[1],o=u[2],c.quadraticSubdivide(x,y,v,n,u),y=u[1],v=u[2]),e.quadraticCurveTo(l,y,o,v)):(n<1&&(c.cubicSubdivide(a,l,d,o,n,u),l=u[1],d=u[2],o=u[3],c.cubicSubdivide(x,y,f,v,n,u),y=u[1],f=u[2],v=u[3]),e.bezierCurveTo(l,y,d,f,o,v)))},r.prototype.pointAt=function(e){return b(this.shape,e,!1)},r.prototype.tangentAt=function(e){var i=b(this.shape,e,!0);return D.normalize(i,i)},r}(C.default);A.prototype.type="bezier-curve";exports.BezierCurveShape=q;exports.default=A;
