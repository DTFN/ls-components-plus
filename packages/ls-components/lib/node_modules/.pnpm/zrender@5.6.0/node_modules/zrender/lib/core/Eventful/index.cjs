"use strict";var c=Object.defineProperty;var u=(e,r)=>c(e,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var g=function(){function e(r){r&&(this._$eventProcessor=r)}return u(e,"Eventful"),e.prototype.on=function(r,t,a,i){this._$handlers||(this._$handlers={});var s=this._$handlers;if(typeof t=="function"&&(i=a,a=t,t=null),!a||!r)return this;var f=this._$eventProcessor;t!=null&&f&&f.normalizeQuery&&(t=f.normalizeQuery(t)),s[r]||(s[r]=[]);for(var n=0;n<s[r].length;n++)if(s[r][n].h===a)return this;var h={h:a,query:t,ctx:i||this,callAtLast:a.zrEventfulCallAtLast},l=s[r].length-1,o=s[r][l];return o&&o.callAtLast?s[r].splice(l,0,h):s[r].push(h),this},e.prototype.isSilent=function(r){var t=this._$handlers;return!t||!t[r]||!t[r].length},e.prototype.off=function(r,t){var a=this._$handlers;if(!a)return this;if(!r)return this._$handlers={},this;if(t){if(a[r]){for(var i=[],s=0,f=a[r].length;s<f;s++)a[r][s].h!==t&&i.push(a[r][s]);a[r]=i}a[r]&&a[r].length===0&&delete a[r]}else delete a[r];return this},e.prototype.trigger=function(r){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(!this._$handlers)return this;var i=this._$handlers[r],s=this._$eventProcessor;if(i)for(var f=t.length,n=i.length,h=0;h<n;h++){var l=i[h];if(!(s&&s.filter&&l.query!=null&&!s.filter(r,l.query)))switch(f){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t);break}}return s&&s.afterTrigger&&s.afterTrigger(r),this},e.prototype.triggerWithContext=function(r){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(!this._$handlers)return this;var i=this._$handlers[r],s=this._$eventProcessor;if(i)for(var f=t.length,n=t[f-1],h=i.length,l=0;l<h;l++){var o=i[l];if(!(s&&s.filter&&o.query!=null&&!s.filter(r,o.query)))switch(f){case 0:o.h.call(n);break;case 1:o.h.call(n,t[0]);break;case 2:o.h.call(n,t[0],t[1]);break;default:o.h.apply(n,t.slice(1,f-1));break}}return s&&s.afterTrigger&&s.afterTrigger(r),this},e}();exports.default=g;
