"use strict";var J=Object.defineProperty;var S=(e,r)=>J(e,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),K=require("../../../scrollbar/index/index.cjs"),U=require("../store/helper/index.cjs"),X=require("../table-layout/index.cjs"),Q=require("../table-header/index/index.cjs"),Z=require("../table-body/index/index.cjs"),x=require("../table-footer/index/index.cjs"),_=require("./utils-helper/index.cjs"),ee=require("../table-header/utils-helper/index.cjs"),oe=require("./style-helper/index.cjs"),le=require("./key-render-helper/index.cjs"),te=require("./defaults/index.cjs"),re=require("../tokens/index.cjs"),ae=require("../h-helper/index.cjs"),se=require("../composables/use-scrollbar/index.cjs"),ne=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),de=require("../../../../directives/mousewheel/index/index.cjs"),ue=require("../../../../hooks/use-locale/index/index.cjs"),ie=require("../../../../hooks/use-namespace/index/index.cjs"),me=require("../../../../../../../../lodash-es@4.17.21/node_modules/lodash-es/debounce/index.cjs");let ce=1;const pe=o.defineComponent({name:"ElTable",directives:{Mousewheel:de.default},components:{TableHeader:Q.default,TableBody:Z.default,TableFooter:x.default,ElScrollbar:K.ElScrollbar,hColgroup:ae.hColgroup},props:te.default,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:r}=ue.useLocale(),m=ie.useNamespace("table"),l=o.getCurrentInstance();o.provide(re.TABLE_INJECTION_KEY,l);const t=U.createStore(l,e);l.store=t;const n=new X.default({store:l.store,table:l,fit:e.fit,showHeader:e.showHeader});l.layout=n;const a=o.computed(()=>(t.states.data.value||[]).length===0),{setCurrentRow:d,getSelectionRows:c,toggleRowSelection:u,clearSelection:p,clearFilter:i,toggleAllSelection:w,toggleRowExpansion:g,clearSort:C,sort:V}=_.default(t),{isHidden:k,renderExpanded:z,setDragVisible:E,isGroup:y,handleMouseLeave:N,handleHeaderFooterMousewheel:B,tableSize:L,emptyBlockStyle:T,handleFixedMousewheel:q,resizeProxyVisible:H,bodyWidth:$,resizeState:f,doLayout:b,tableBodyStyles:M,tableLayout:D,scrollbarViewStyle:R,tableInnerStyle:I,scrollbarStyle:W}=oe.default(e,n,t,l),{scrollBarRef:F,scrollTo:G,setScrollLeft:O,setScrollTop:P}=se.useScrollbar(),h=me.default(b,50),v=`${m.namespace.value}-table_${ce++}`;l.tableId=v,l.state={isGroup:y,resizeState:f,doLayout:b,debouncedUpdateLayout:h};const A=o.computed(()=>{var s;return(s=e.sumText)!=null?s:r("el.table.sumText")}),Y=o.computed(()=>{var s;return(s=e.emptyText)!=null?s:r("el.table.emptyText")}),j=o.computed(()=>ee.convertToRows(t.states.originColumns.value)[0]);return le.default(l),{ns:m,layout:n,store:t,columns:j,handleHeaderFooterMousewheel:B,handleMouseLeave:N,tableId:v,tableSize:L,isHidden:k,isEmpty:a,renderExpanded:z,resizeProxyVisible:H,resizeState:f,isGroup:y,bodyWidth:$,tableBodyStyles:M,emptyBlockStyle:T,debouncedUpdateLayout:h,handleFixedMousewheel:q,setCurrentRow:d,getSelectionRows:c,toggleRowSelection:u,clearSelection:p,clearFilter:i,toggleAllSelection:w,toggleRowExpansion:g,clearSort:C,doLayout:b,sort:V,t:r,setDragVisible:E,context:l,computedSumText:A,computedEmptyText:Y,tableLayout:D,scrollbarViewStyle:R,tableInnerStyle:I,scrollbarStyle:W,scrollBarRef:F,scrollTo:G,setScrollLeft:O,setScrollTop:P}}});function be(e,r,m,l,t,n){const a=o.resolveComponent("hColgroup"),d=o.resolveComponent("table-header"),c=o.resolveComponent("table-body"),u=o.resolveComponent("table-footer"),p=o.resolveComponent("el-scrollbar"),i=o.resolveDirective("mousewheel");return o.openBlock(),o.createElementBlock("div",{ref:"tableWrapper",class:o.normalizeClass([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:o.normalizeStyle(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[o.createElementVNode("div",{class:o.normalizeClass(e.ns.e("inner-wrapper")),style:o.normalizeStyle(e.tableInnerStyle)},[o.createElementVNode("div",{ref:"hiddenColumns",class:"hidden-columns"},[o.renderSlot(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?o.withDirectives((o.openBlock(),o.createElementBlock("div",{key:0,ref:"headerWrapper",class:o.normalizeClass(e.ns.e("header-wrapper"))},[o.createElementVNode("table",{ref:"tableHeader",class:o.normalizeClass(e.ns.e("header")),style:o.normalizeStyle(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[o.createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),o.createVNode(d,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[i,e.handleHeaderFooterMousewheel]]):o.createCommentVNode("v-if",!0),o.createElementVNode("div",{ref:"bodyWrapper",class:o.normalizeClass(e.ns.e("body-wrapper"))},[o.createVNode(p,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:o.withCtx(()=>[o.createElementVNode("table",{ref:"tableBody",class:o.normalizeClass(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:o.normalizeStyle({width:e.bodyWidth,tableLayout:e.tableLayout})},[o.createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(o.openBlock(),o.createBlock(d,{key:0,ref:"tableHeaderRef",class:o.normalizeClass(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):o.createCommentVNode("v-if",!0),o.createVNode(c,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(o.openBlock(),o.createBlock(u,{key:1,class:o.normalizeClass(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):o.createCommentVNode("v-if",!0)],6),e.isEmpty?(o.openBlock(),o.createElementBlock("div",{key:0,ref:"emptyBlock",style:o.normalizeStyle(e.emptyBlockStyle),class:o.normalizeClass(e.ns.e("empty-block"))},[o.createElementVNode("span",{class:o.normalizeClass(e.ns.e("empty-text"))},[o.renderSlot(e.$slots,"empty",{},()=>[o.createTextVNode(o.toDisplayString(e.computedEmptyText),1)])],2)],6)):o.createCommentVNode("v-if",!0),e.$slots.append?(o.openBlock(),o.createElementBlock("div",{key:1,ref:"appendWrapper",class:o.normalizeClass(e.ns.e("append-wrapper"))},[o.renderSlot(e.$slots,"append")],2)):o.createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary&&e.tableLayout==="fixed"?o.withDirectives((o.openBlock(),o.createElementBlock("div",{key:1,ref:"footerWrapper",class:o.normalizeClass(e.ns.e("footer-wrapper"))},[o.createElementVNode("table",{class:o.normalizeClass(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:o.normalizeStyle(e.tableBodyStyles)},[o.createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),o.createVNode(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[o.vShow,!e.isEmpty],[i,e.handleHeaderFooterMousewheel]]):o.createCommentVNode("v-if",!0),e.border||e.isGroup?(o.openBlock(),o.createElementBlock("div",{key:2,class:o.normalizeClass(e.ns.e("border-left-patch"))},null,2)):o.createCommentVNode("v-if",!0)],6),o.withDirectives(o.createElementVNode("div",{ref:"resizeProxy",class:o.normalizeClass(e.ns.e("column-resize-proxy"))},null,2),[[o.vShow,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}S(be,"_sfc_render");var ye=ne.default(pe,[["render",be],["__file","table.vue"]]);exports.default=ye;
