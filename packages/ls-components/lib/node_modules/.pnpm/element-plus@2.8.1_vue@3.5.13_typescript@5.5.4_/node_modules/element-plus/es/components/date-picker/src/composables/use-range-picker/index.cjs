"use strict";var p=Object.defineProperty;var s=(u,c)=>p(u,"name",{value:c,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("vue"),v=require("../../utils/index.cjs"),x=require("../../constants/index.cjs"),I=require("../use-shortcut/index.cjs"),O=require("../../../../../hooks/use-namespace/index/index.cjs"),y=require("../../../../../hooks/use-locale/index/index.cjs"),E=require("../../../../../../../../../@vue_shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler/index.cjs"),T=s((u,{defaultValue:c,leftDate:d,rightDate:m,unit:h,onParsedValueChanged:k})=>{const{emit:R}=n.getCurrentInstance(),{pickerNs:q}=n.inject(x.ROOT_PICKER_INJECTION_KEY),D=O.useNamespace("date-range-picker"),{t:S,lang:l}=y.useLocale(),C=I.useShortcut(l),a=n.ref(),r=n.ref(),i=n.ref({endDate:null,selecting:!1}),N=s(e=>{i.value=e},"handleChangeRange"),P=s((e=!1)=>{const t=n.unref(a),o=n.unref(r);v.isValidRange([t,o])&&R("pick",[t,o],e)},"handleRangeConfirm"),_=s(e=>{i.value.selecting=e,e||(i.value.endDate=null)},"onSelect"),f=s(e=>{if(E.isArray(e)&&e.length===2){const[t,o]=e;a.value=t,d.value=t,r.value=o,k(n.unref(a),n.unref(r))}else g()},"onReset"),g=s(()=>{const[e,t]=v.getDefaultValue(n.unref(c),{lang:n.unref(l),unit:h,unlinkPanels:u.unlinkPanels});a.value=void 0,r.value=void 0,d.value=e,m.value=t},"restoreDefault");return n.watch(c,e=>{e&&g()},{immediate:!0}),n.watch(()=>u.parsedValue,f,{immediate:!0}),{minDate:a,maxDate:r,rangeState:i,lang:l,ppNs:q,drpNs:D,handleChangeRange:N,handleRangeConfirm:P,handleShortcutClick:C,onSelect:_,onReset:f,t:S}},"useRangePicker");exports.useRangePicker=T;
