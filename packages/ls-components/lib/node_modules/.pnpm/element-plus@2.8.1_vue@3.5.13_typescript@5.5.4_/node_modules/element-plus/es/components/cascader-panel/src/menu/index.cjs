"use strict";var L=Object.defineProperty;var r=(n,a)=>L(n,"name",{value:a,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),N=require("../../../scrollbar/index/index.cjs"),T=require("@element-plus/icons-vue"),H=require("../../../icon/index/index.cjs"),I=require("../node2/index.cjs"),b=require("../types/index.cjs"),w=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),_=require("../../../../hooks/use-namespace/index/index.cjs"),V=require("../../../../hooks/use-locale/index/index.cjs"),z=require("../../../../hooks/use-id/index/index.cjs"),S=e.defineComponent({name:"ElCascaderMenu",components:{Loading:T.Loading,ElIcon:H.ElIcon,ElScrollbar:N.ElScrollbar,ElCascaderNode:I.default},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const a=e.getCurrentInstance(),m=_.useNamespace("cascader-menu"),{t:v}=V.useLocale(),f=z.useId();let s=null,o=null;const l=e.inject(b.CASCADER_PANEL_INJECTION_KEY),t=e.ref(null),d=e.computed(()=>!n.nodes.length),i=e.computed(()=>!l.initialLoaded),c=e.computed(()=>`${f.value}-${n.index}`),M=r(u=>{s=u.target},"handleExpand"),k=r(u=>{if(!(!l.isHoverMenu||!s||!t.value))if(s.contains(u.target)){g();const C=a.vnode.el,{left:B}=C.getBoundingClientRect(),{offsetWidth:h,offsetHeight:q}=C,y=u.clientX-B,p=s.offsetTop,$=p+s.offsetHeight;t.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${y} ${p} L${h} 0 V${p} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${y} ${$} L${h} ${q} V${$} Z" />
        `}else o||(o=window.setTimeout(E,l.config.hoverThreshold))},"handleMouseMove"),g=r(()=>{o&&(clearTimeout(o),o=null)},"clearHoverTimer"),E=r(()=>{t.value&&(t.value.innerHTML="",g())},"clearHoverZone");return{ns:m,panel:l,hoverZone:t,isEmpty:d,isLoading:i,menuId:c,t:v,handleExpand:M,handleMouseMove:k,clearHoverZone:E}}});function Z(n,a,m,v,f,s){const o=e.resolveComponent("el-cascader-node"),l=e.resolveComponent("loading"),t=e.resolveComponent("el-icon"),d=e.resolveComponent("el-scrollbar");return e.openBlock(),e.createBlock(d,{key:n.menuId,tag:"ul",role:"menu",class:e.normalizeClass(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:e.withCtx(()=>{var i;return[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.nodes,c=>(e.openBlock(),e.createBlock(o,{key:c.uid,node:c,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(n.ns.e("empty-text"))},[e.createVNode(t,{size:"14",class:e.normalizeClass(n.ns.is("loading"))},{default:e.withCtx(()=>[e.createVNode(l)]),_:1},8,["class"]),e.createTextVNode(" "+e.toDisplayString(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(n.ns.e("empty-text"))},e.toDisplayString(n.t("el.cascader.noData")),3)):(i=n.panel)!=null&&i.isHoverMenu?(e.openBlock(),e.createElementBlock("svg",{key:2,ref:"hoverZone",class:e.normalizeClass(n.ns.e("hover-zone"))},null,2)):e.createCommentVNode("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}r(Z,"_sfc_render");var A=w.default(S,[["render",Z],["__file","menu.vue"]]);exports.default=A;
