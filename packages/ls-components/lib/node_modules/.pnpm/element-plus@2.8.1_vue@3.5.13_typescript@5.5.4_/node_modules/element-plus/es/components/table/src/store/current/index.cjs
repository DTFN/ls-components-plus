"use strict";var R=Object.defineProperty;var l=(o,n)=>R(o,"name",{value:n,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("vue"),d=require("../../util/index.cjs");function y(o){const n=i.getCurrentInstance(),a=i.ref(null),t=i.ref(null),f=l(e=>{n.store.assertRowKey(),a.value=e,s(e)},"setCurrentRowKey"),v=l(()=>{a.value=null},"restoreCurrentRowKey"),s=l(e=>{const{data:u,rowKey:r}=o;let c=null;r.value&&(c=(i.unref(u)||[]).find(w=>d.getRowIdentity(w,r.value)===e)),t.value=c,n.emit("current-change",t.value,null)},"setCurrentRowByKey");return{setCurrentRowKey:f,restoreCurrentRowKey:v,setCurrentRowByKey:s,updateCurrentRow:l(e=>{const u=t.value;if(e&&e!==u){t.value=e,n.emit("current-change",t.value,u);return}!e&&u&&(t.value=null,n.emit("current-change",null,u))},"updateCurrentRow"),updateCurrentRowData:l(()=>{const e=o.rowKey.value,u=o.data.value||[],r=t.value;if(!u.includes(r)&&r){if(e){const c=d.getRowIdentity(r,e);s(c)}else t.value=null;t.value===null&&n.emit("current-change",null,r)}else a.value&&(s(a.value),v())},"updateCurrentRowData"),states:{_currentRowKey:a,currentRow:t}}}l(y,"useCurrent");exports.default=y;
