"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),R=require("../../layout-observer/index.cjs"),E=require("../../util/index.cjs"),S=require("../../tokens/index.cjs"),A=require("../render-helper/index.cjs"),L=require("../defaults/index.cjs"),B=require("../../../../../hooks/use-namespace/index/index.cjs"),v=require("../../../../../utils/dom/style/index.cjs"),O=require("../../../../../utils/raf/index.cjs"),j=require("../../../../../../../../../@vueuse_shared@9.13.0_vue@3.5.13_typescript@5.5.4_/node_modules/@vueuse/shared/index/index.cjs");var k=n.defineComponent({name:"ElTableBody",props:L.default,setup(s){const d=n.getCurrentInstance(),h=n.inject(S.TABLE_INJECTION_KEY),l=B.useNamespace("table"),{wrappedRowRender:f,tooltipContent:q,tooltipTrigger:N}=A.default(s),{onColumnsChange:_,onScrollableChange:y}=R.default(h),p=[];return n.watch(s.store.states.hoverRow,(r,T)=>{var C;const b=d==null?void 0:d.vnode.el,u=Array.from((b==null?void 0:b.children)||[]).filter(e=>e==null?void 0:e.classList.contains(`${l.e("row")}`));let a=r;const i=(C=u[a])==null?void 0:C.childNodes;if(i!=null&&i.length){let e=0;Array.from(i).reduce((t,c,o)=>{var w,g;return((w=i[o])==null?void 0:w.colSpan)>1&&(e=(g=i[o])==null?void 0:g.colSpan),c.nodeName!=="TD"&&e===0&&t.push(o),e>0&&e--,t},[]).forEach(t=>{var c;for(a=r;a>0;){const o=(c=u[a-1])==null?void 0:c.childNodes;if(o[t]&&o[t].nodeName==="TD"&&o[t].rowSpan>1){v.addClass(o[t],"hover-cell"),p.push(o[t]);break}a--}})}else p.forEach(e=>v.removeClass(e,"hover-cell")),p.length=0;!s.store.states.isComplex.value||!j.isClient||O.rAF(()=>{const e=u[T],m=u[r];e&&!e.classList.contains("hover-fixed-row")&&v.removeClass(e,"hover-row"),m&&v.addClass(m,"hover-row")})}),n.onUnmounted(()=>{var r;(r=E.removePopper)==null||r()}),{ns:l,onColumnsChange:_,onScrollableChange:y,wrappedRowRender:f,tooltipContent:q,tooltipTrigger:N}},render(){const{wrappedRowRender:s,store:d}=this,h=d.states.data.value||[];return n.h("tbody",{tabIndex:-1},[h.reduce((l,f)=>l.concat(s(f,l.length)),[])])}});exports.default=k;
