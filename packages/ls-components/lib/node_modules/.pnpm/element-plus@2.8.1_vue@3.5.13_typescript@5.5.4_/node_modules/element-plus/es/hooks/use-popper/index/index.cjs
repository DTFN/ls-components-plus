"use strict";var v=Object.defineProperty;var o=(a,u)=>v(a,"name",{value:u,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),y=require("../../../../../../../@sxzz_popperjs-es@2.11.7/node_modules/@sxzz/popperjs-es/dist/index/index.cjs"),d=require("../../../../../../../lodash-es@4.17.21/node_modules/lodash-es/fromPairs/index.cjs"),b=o((a,u,i={})=>{const c={name:"updateState",enabled:!0,phase:"write",fn:o(({state:t})=>{const n=S(t);Object.assign(p.value,n)},"fn"),requires:["computeStyles"]},r=e.computed(()=>{const{onFirstUpdate:t,placement:n,strategy:f,modifiers:m}=e.unref(i);return{onFirstUpdate:t,placement:n||"bottom",strategy:f||"absolute",modifiers:[...m||[],c,{name:"applyStyles",enabled:!1}]}}),s=e.shallowRef(),p=e.ref({styles:{popper:{position:e.unref(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=o(()=>{s.value&&(s.value.destroy(),s.value=void 0)},"destroy");return e.watch(r,t=>{const n=e.unref(s);n&&n.setOptions(t)},{deep:!0}),e.watch([a,u],([t,n])=>{l(),!(!t||!n)&&(s.value=y.createPopper(t,n,e.unref(r)))}),e.onBeforeUnmount(()=>{l()}),{state:e.computed(()=>{var t;return{...((t=e.unref(s))==null?void 0:t.state)||{}}}),styles:e.computed(()=>e.unref(p).styles),attributes:e.computed(()=>e.unref(p).attributes),update:o(()=>{var t;return(t=e.unref(s))==null?void 0:t.update()},"update"),forceUpdate:o(()=>{var t;return(t=e.unref(s))==null?void 0:t.forceUpdate()},"forceUpdate"),instanceRef:e.computed(()=>e.unref(s))}},"usePopper");function S(a){const u=Object.keys(a.elements),i=d.default(u.map(r=>[r,a.styles[r]||{}])),c=d.default(u.map(r=>[r,a.attributes[r]]));return{styles:i,attributes:c}}o(S,"deriveState");exports.usePopper=b;
