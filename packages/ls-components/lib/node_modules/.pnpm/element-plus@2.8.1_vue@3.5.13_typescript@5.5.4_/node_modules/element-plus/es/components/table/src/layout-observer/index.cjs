"use strict";var m=Object.defineProperty;var v=(o,i)=>m(o,"name",{value:i,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("vue");function y(o){const i=u.getCurrentInstance();u.onBeforeMount(()=>{l.value.addObserver(i)}),u.onMounted(()=>{h(l.value),g(l.value)}),u.onUpdated(()=>{h(l.value),g(l.value)}),u.onUnmounted(()=>{l.value.removeObserver(i)});const l=u.computed(()=>{const t=o.layout;if(!t)throw new Error("Can not find table layout.");return t}),h=v(t=>{var s;const n=((s=o.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!n.length)return;const d=t.getFlattenColumns(),a={};d.forEach(e=>{a[e.id]=e});for(let e=0,c=n.length;e<c;e++){const r=n[e],f=r.getAttribute("name"),b=a[f];b&&r.setAttribute("width",b.realWidth||b.width)}},"onColumnsChange"),g=v(t=>{var s,n;const d=((s=o.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let e=0,c=d.length;e<c;e++)d[e].setAttribute("width",t.scrollY.value?t.gutterWidth:"0");const a=((n=o.vnode.el)==null?void 0:n.querySelectorAll("th.gutter"))||[];for(let e=0,c=a.length;e<c;e++){const r=a[e];r.style.width=t.scrollY.value?`${t.gutterWidth}px`:"0",r.style.display=t.scrollY.value?"":"none"}},"onScrollableChange");return{tableLayout:l.value,onColumnsChange:h,onScrollableChange:g}}v(y,"useLayoutObserver");exports.default=y;
