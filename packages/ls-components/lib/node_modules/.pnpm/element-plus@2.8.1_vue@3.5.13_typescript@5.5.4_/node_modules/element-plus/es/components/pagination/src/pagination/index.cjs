"use strict";var $=Object.defineProperty;var a=(e,l)=>$(e,"name",{value:l,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),q=require("@element-plus/icons-vue"),O=require("../constants/index.cjs"),R=require("../components/prev2/index.cjs"),V=require("../components/next/index.cjs"),D=require("../components/sizes2/index.cjs"),G=require("../components/jumper2/index.cjs"),K=require("../components/total2/index.cjs"),F=require("../components/pager2/index.cjs"),T=require("../../../../utils/vue/props/runtime/index.cjs"),o=require("../../../../utils/types/index.cjs"),H=require("../../../../utils/typescript/index.cjs"),k=require("../../../../utils/vue/icon/index.cjs"),E=require("../../../../hooks/use-size/index/index.cjs"),J=require("../../../../hooks/use-locale/index/index.cjs"),Q=require("../../../../hooks/use-namespace/index/index.cjs"),X=require("../../../../hooks/use-deprecated/index/index.cjs"),Y=require("../../../../utils/error/index.cjs"),r=a(e=>typeof e!="number","isAbsent"),I=T.buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:a(e=>o.isNumber(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,"validator"),default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:T.definePropType(Array),default:a(()=>H.mutable([10,20,30,40,50,100]),"default")},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:k.iconPropType,default:a(()=>q.ArrowLeft,"default")},nextText:{type:String,default:""},nextIcon:{type:k.iconPropType,default:a(()=>q.ArrowRight,"default")},teleported:{type:Boolean,default:!0},small:Boolean,size:E.useSizeProp,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),w={"update:current-page":a(e=>o.isNumber(e),"update:current-page"),"update:page-size":a(e=>o.isNumber(e),"update:page-size"),"size-change":a(e=>o.isNumber(e),"size-change"),change:a((e,l)=>o.isNumber(e)&&o.isNumber(l),"change"),"current-change":a(e=>o.isNumber(e),"current-change"),"prev-click":a(e=>o.isNumber(e),"prev-click"),"next-click":a(e=>o.isNumber(e),"next-click")},B="ElPagination";var Z=n.defineComponent({name:B,props:I,emits:w,setup(e,{emit:l,slots:m}){const{t:M}=J.useLocale(),s=Q.useNamespace("pagination"),g=n.getCurrentInstance().vnode.props||{},b=n.computed(()=>{var t;return e.small?"small":(t=e.size)!=null?t:E.useGlobalSize().value});X.useDeprecated({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},n.computed(()=>!!e.small));const z="onUpdate:currentPage"in g||"onUpdate:current-page"in g||"onCurrentChange"in g,P="onUpdate:pageSize"in g||"onUpdate:page-size"in g||"onSizeChange"in g,_=n.computed(()=>{if(r(e.total)&&r(e.pageCount)||!r(e.currentPage)&&!z)return!1;if(e.layout.includes("sizes")){if(r(e.pageCount)){if(!r(e.total)&&!r(e.pageSize)&&!P)return!1}else if(!P)return!1}return!0}),S=n.ref(r(e.defaultPageSize)?10:e.defaultPageSize),x=n.ref(r(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=n.computed({get(){return r(e.pageSize)?S.value:e.pageSize},set(t){r(e.pageSize)&&(S.value=t),P&&(l("update:page-size",t),l("size-change",t))}}),c=n.computed(()=>{let t=0;return r(e.pageCount)?r(e.total)||(t=Math.max(1,Math.ceil(e.total/h.value))):t=e.pageCount,t}),u=n.computed({get(){return r(e.currentPage)?x.value:e.currentPage},set(t){let i=t;t<1?i=1:t>c.value&&(i=c.value),r(e.currentPage)&&(x.value=i),z&&(l("update:current-page",i),l("current-change",i))}});n.watch(c,t=>{u.value>t&&(u.value=t)}),n.watch([u,h],t=>{l("change",...t)},{flush:"post"});function y(t){u.value=t}a(y,"handleCurrentChange");function j(t){h.value=t;const i=c.value;u.value>i&&(u.value=i)}a(j,"handleSizeChange");function A(){e.disabled||(u.value-=1,l("prev-click",u.value))}a(A,"prev");function L(){e.disabled||(u.value+=1,l("next-click",u.value))}a(L,"next$1");function v(t,i){t&&(t.props||(t.props={}),t.props.class=[t.props.class,i].join(" "))}return a(v,"addClass"),n.provide(O.elPaginationKey,{pageCount:c,disabled:n.computed(()=>e.disabled),currentPage:u,changeEvent:y,handleSizeChange:j}),()=>{var t,i;if(!_.value)return Y.debugWarn(B,M("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&c.value<=1)return null;const d=[],f=[],U=n.h("div",{class:s.e("rightwrapper")},f),N={prev:n.h(R.default,{disabled:e.disabled,currentPage:u.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:A}),jumper:n.h(G.default,{size:b.value}),pager:n.h(F.default,{currentPage:u.value,pageCount:c.value,pagerCount:e.pagerCount,onChange:y,disabled:e.disabled}),next:n.h(V.default,{disabled:e.disabled,currentPage:u.value,pageCount:c.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:L}),sizes:n.h(D.default,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:b.value}),slot:(i=(t=m==null?void 0:m.default)==null?void 0:t.call(m))!=null?i:null,total:n.h(K.default,{total:r(e.total)?0:e.total})},W=e.layout.split(",").map(p=>p.trim());let C=!1;return W.forEach(p=>{if(p==="->"){C=!0;return}C?f.push(N[p]):d.push(N[p])}),v(d[0],s.is("first")),v(d[d.length-1],s.is("last")),C&&f.length>0&&(v(f[0],s.is("first")),v(f[f.length-1],s.is("last")),d.push(U)),n.h("div",{class:[s.b(),s.is("background",e.background),s.m(b.value)]},d)}}});exports.default=Z;exports.paginationEmits=w;exports.paginationProps=I;
