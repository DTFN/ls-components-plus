"use strict";var d=Object.defineProperty;var I=(i,o)=>d(i,"name",{value:o,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),N=require("../collection2/index.cjs"),T=require("../collection-item/index.cjs"),m="data-el-collection-item",_=I(i=>{const o=`El${i}Collection`,u=`${o}Item`,r=Symbol(o),E=Symbol(u),f={...N.default,name:o,setup(){const s=e.ref(null),l=new Map,n=I(()=>{const c=e.unref(s);if(!c)return[];const t=Array.from(c.querySelectorAll(`[${m}]`));return[...l.values()].sort((O,a)=>t.indexOf(O.ref)-t.indexOf(a.ref))},"getItems");e.provide(r,{itemMap:l,getItems:n,collectionRef:s})}},C={...T.default,name:u,setup(s,{attrs:l}){const n=e.ref(null),c=e.inject(r,void 0);e.provide(E,{collectionItemRef:n}),e.onMounted(()=>{const t=e.unref(n);t&&c.itemMap.set(t,{ref:t,...l})}),e.onBeforeUnmount(()=>{const t=e.unref(n);c.itemMap.delete(t)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:E,ElCollection:f,ElCollectionItem:C}},"createCollectionWithScope");exports.COLLECTION_ITEM_SIGN=m;exports.createCollectionWithScope=_;
