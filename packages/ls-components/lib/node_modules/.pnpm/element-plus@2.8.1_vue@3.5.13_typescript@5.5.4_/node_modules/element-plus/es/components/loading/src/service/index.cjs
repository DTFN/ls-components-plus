"use strict";var g=Object.defineProperty;var d=(t,e)=>g(t,"name",{value:e,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("vue"),m=require("../loading/index.cjs"),b=require("../../../../../../../../@vue_shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler/index.cjs"),s=require("../../../../utils/dom/style/index.cjs"),v=require("../../../../../../../../@vueuse_shared@9.13.0_vue@3.5.13_typescript@5.5.4_/node_modules/@vueuse/shared/index/index.cjs");let u;const f=d(function(t={}){if(!v.isClient)return;const e=y(t);if(e.fullscreen&&u)return u;const l=m.createLoadingComponent({...e,closed:d(()=>{var o;(o=e.closed)==null||o.call(e),e.fullscreen&&(u=void 0)},"closed")});x(e,e.parent,l),a(e,e.parent,l),e.parent.vLoadingAddClassList=()=>a(e,e.parent,l);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(l.$el),c.nextTick(()=>l.visible.value=e.visible),e.fullscreen&&(u=l),l},"Loading"),y=d(t=>{var e,l,n,o;let r;return b.isString(t.target)?r=(e=document.querySelector(t.target))!=null?e:document.body:r=t.target||document.body,{parent:r===document.body||t.body?document.body:r,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:r===document.body&&((l=t.fullscreen)!=null?l:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(o=t.visible)!=null?o:!0,beforeClose:t.beforeClose,closed:t.closed,target:r}},"resolveOptions"),x=d(async(t,e,l)=>{const{nextZIndex:n}=l.vm.zIndex||l.vm._.exposed.zIndex,o={};if(t.fullscreen)l.originalPosition.value=s.getStyle(document.body,"position"),l.originalOverflow.value=s.getStyle(document.body,"overflow"),o.zIndex=n();else if(t.parent===document.body){l.originalPosition.value=s.getStyle(document.body,"position"),await c.nextTick();for(const r of["top","left"]){const i=r==="top"?"scrollTop":"scrollLeft";o[r]=`${t.target.getBoundingClientRect()[r]+document.body[i]+document.documentElement[i]-Number.parseInt(s.getStyle(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])o[r]=`${t.target.getBoundingClientRect()[r]}px`}else l.originalPosition.value=s.getStyle(e,"position");for(const[r,i]of Object.entries(o))l.$el.style[r]=i},"addStyle"),a=d((t,e,l)=>{const n=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?s.removeClass(e,n.bm("parent","relative")):s.addClass(e,n.bm("parent","relative")),t.fullscreen&&t.lock?s.addClass(e,n.bm("parent","hidden")):s.removeClass(e,n.bm("parent","hidden"))},"addClassList");exports.Loading=f;
