"use strict";var F=Object.defineProperty;var v=(r,t)=>F(r,"name",{value:t,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),M=require("../../../overlay/index/index.cjs"),P=require("../../../teleport/index/index.cjs"),B=require("../dialog-content2/index.cjs"),D=require("../constants/index.cjs"),g=require("../dialog/index.cjs"),L=require("../use-dialog/index.cjs"),I=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),N=require("../../../../hooks/use-deprecated/index/index.cjs"),V=require("../../../../hooks/use-namespace/index/index.cjs"),z=require("../../../../hooks/use-same-target/index/index.cjs"),O=require("../../../focus-trap/src/focus-trap/index.cjs"),j=e.defineComponent({name:"ElDialog",inheritAttrs:!1}),H=e.defineComponent({...j,props:g.dialogProps,emits:g.dialogEmits,setup(r,{expose:t}){const n=r,m=e.useSlots();N.useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},e.computed(()=>!!m.title));const l=V.useNamespace("dialog"),d=e.ref(),C=e.ref(),s=e.ref(),{visible:a,titleId:u,bodyId:f,style:h,overlayDialogStyle:y,rendered:c,zIndex:b,afterEnter:w,afterLeave:k,beforeLeave:q,handleClose:p,onModalClick:S,onOpenAutoFocus:A,onCloseAutoFocus:$,onCloseRequested:R,onFocusoutPrevented:T}=L.useDialog(n,d);e.provide(D.dialogInjectionKey,{dialogRef:d,headerRef:C,bodyId:f,ns:l,rendered:c,style:h});const i=z.useSameTarget(S),E=e.computed(()=>n.draggable&&!n.fullscreen);return t({visible:a,dialogContentRef:s,resetPosition:v(()=>{var o;(o=s.value)==null||o.resetPosition()},"resetPosition")}),(o,G)=>(e.openBlock(),e.createBlock(e.unref(P.ElTeleport),{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:"dialog-fade",onAfterEnter:e.unref(w),onAfterLeave:e.unref(k),onBeforeLeave:e.unref(q),persisted:""},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(e.unref(M.ElOverlay),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e.unref(b)},{default:e.withCtx(()=>[e.createElementVNode("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e.unref(u),"aria-describedby":e.unref(f),class:e.normalizeClass(`${e.unref(l).namespace.value}-overlay-dialog`),style:e.normalizeStyle(e.unref(y)),onClick:e.unref(i).onClick,onMousedown:e.unref(i).onMousedown,onMouseup:e.unref(i).onMouseup},[e.createVNode(e.unref(O.default),{loop:"",trapped:e.unref(a),"focus-start-el":"container",onFocusAfterTrapped:e.unref(A),onFocusAfterReleased:e.unref($),onFocusoutPrevented:e.unref(T),onReleaseRequested:e.unref(R)},{default:e.withCtx(()=>[e.unref(c)?(e.openBlock(),e.createBlock(B.default,e.mergeProps({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e.unref(E),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e.unref(p)}),e.createSlots({header:e.withCtx(()=>[o.$slots.title?e.renderSlot(o.$slots,"title",{key:1}):e.renderSlot(o.$slots,"header",{key:0,close:e.unref(p),titleId:e.unref(u),titleClass:e.unref(l).e("title")})]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:e.withCtx(()=>[e.renderSlot(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):e.createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[e.vShow,e.unref(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var K=I.default(H,[["__file","dialog.vue"]]);exports.default=K;
