"use strict";var B=Object.defineProperty;var t=(e,n)=>B(e,"name",{value:n,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("vue"),M=require("../../../utils/dom/style/index.cjs"),P=t((e,n,p,m)=>{let c={offsetX:0,offsetY:0};const d=t(r=>{const b=r.clientX,w=r.clientY,{offsetX:i,offsetY:l}=c,o=e.value.getBoundingClientRect(),f=o.left,h=o.top,y=o.width,x=o.height,D=document.documentElement.clientWidth,T=document.documentElement.clientHeight,H=-f+i,U=-h+l,W=D-f-y+i,q=T-h-x+l,g=t(L=>{let s=i+L.clientX-b,u=l+L.clientY-w;m!=null&&m.value||(s=Math.min(Math.max(s,H),W),u=Math.min(Math.max(u,U),q)),c={offsetX:s,offsetY:u},e.value&&(e.value.style.transform=`translate(${M.addUnit(s)}, ${M.addUnit(u)})`)},"onMousemove"),E=t(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",E)},"onMouseup");document.addEventListener("mousemove",g),document.addEventListener("mouseup",E)},"onMousedown"),X=t(()=>{n.value&&e.value&&n.value.addEventListener("mousedown",d)},"onDraggable"),v=t(()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",d)},"offDraggable"),Y=t(()=>{c={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")},"resetPosition");return a.onMounted(()=>{a.watchEffect(()=>{p.value?X():v()})}),a.onBeforeUnmount(()=>{v()}),{resetPosition:Y}},"useDraggable");exports.useDraggable=P;
