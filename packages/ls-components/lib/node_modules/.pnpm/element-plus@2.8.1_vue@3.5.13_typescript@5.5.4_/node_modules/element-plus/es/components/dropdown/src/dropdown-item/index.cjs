"use strict";var h=Object.defineProperty;var _=(o,r)=>h(o,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),b=require("../dropdown-item-impl/index.cjs"),E=require("../useDropdown/index.cjs"),w=require("../dropdown/index.cjs"),g=require("../tokens/index.cjs"),k=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),D=require("../../../roving-focus-group/src/roving-focus-item/index.cjs"),d=require("../../../../utils/dom/event/index.cjs"),q=n.defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:w.ElCollectionItem,ElRovingFocusItem:D.default,ElDropdownItemImpl:b.default},inheritAttrs:!1,props:w.dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(o,{emit:r,attrs:c}){const{elDropdown:l}=E.useDropdown(),m=n.getCurrentInstance(),p=n.ref(null),i=n.computed(()=>{var e,t;return(t=(e=n.unref(p))==null?void 0:e.textContent)!=null?t:""}),{onItemEnter:u,onItemLeave:a}=n.inject(g.DROPDOWN_INJECTION_KEY,void 0),s=d.composeEventHandlers(e=>(r("pointermove",e),e.defaultPrevented),d.whenMouse(e=>{if(o.disabled){a(e);return}const t=e.currentTarget;t===document.activeElement||t.contains(document.activeElement)||(u(e),e.defaultPrevented||t==null||t.focus())})),C=d.composeEventHandlers(e=>(r("pointerleave",e),e.defaultPrevented),d.whenMouse(a)),I=d.composeEventHandlers(e=>{if(!o.disabled)return r("click",e),e.type!=="keydown"&&e.defaultPrevented},e=>{var t,v,f;if(o.disabled){e.stopImmediatePropagation();return}(t=l==null?void 0:l.hideOnClick)!=null&&t.value&&((v=l.handleClick)==null||v.call(l)),(f=l.commandHandler)==null||f.call(l,o.command,m,e)}),P=n.computed(()=>({...o,...c}));return{handleClick:I,handlePointerMove:s,handlePointerLeave:C,textContent:i,propsAndAttrs:P}}});function M(o,r,c,l,m,p){var i;const u=n.resolveComponent("el-dropdown-item-impl"),a=n.resolveComponent("el-roving-focus-item"),s=n.resolveComponent("el-dropdown-collection-item");return n.openBlock(),n.createBlock(s,{disabled:o.disabled,"text-value":(i=o.textValue)!=null?i:o.textContent},{default:n.withCtx(()=>[n.createVNode(a,{focusable:!o.disabled},{default:n.withCtx(()=>[n.createVNode(u,n.mergeProps(o.propsAndAttrs,{onPointerleave:o.handlePointerLeave,onPointermove:o.handlePointerMove,onClickimpl:o.handleClick}),{default:n.withCtx(()=>[n.renderSlot(o.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}_(M,"_sfc_render");var A=k.default(q,[["render",M],["__file","dropdown-item.vue"]]);exports.default=A;
