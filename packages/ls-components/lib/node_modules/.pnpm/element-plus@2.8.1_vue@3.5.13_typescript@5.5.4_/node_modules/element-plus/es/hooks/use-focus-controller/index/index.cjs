"use strict";var p=Object.defineProperty;var s=(u,c)=>p(u,"name",{value:c,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue"),r=require("../../../../../../../@vueuse_core@9.13.0_vue@3.5.13_typescript@5.5.4_/node_modules/@vueuse/core/index/index.cjs"),m=require("../../../../../../../@vue_shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler/index.cjs"),F=require("../../../utils/types/index.cjs");function q(u,{beforeFocus:c,afterFocus:v,beforeBlur:d,afterBlur:f}={}){const b=l.getCurrentInstance(),{emit:E}=b,t=l.shallowRef(),o=l.ref(!1),i=s(e=>{m.isFunction(c)&&c(e)||o.value||(o.value=!0,E("focus",e),v==null||v())},"handleFocus"),a=s(e=>{var n;m.isFunction(d)&&d(e)||e.relatedTarget&&((n=t.value)!=null&&n.contains(e.relatedTarget))||(o.value=!1,E("blur",e),f==null||f())},"handleBlur"),h=s(()=>{var e,n;(e=t.value)!=null&&e.contains(document.activeElement)&&t.value!==document.activeElement||(n=u.value)==null||n.focus()},"handleClick");return l.watch(t,e=>{e&&e.setAttribute("tabindex","-1")}),r.useEventListener(t,"focus",i,!0),r.useEventListener(t,"blur",a,!0),r.useEventListener(t,"click",h,!0),process.env.NODE_ENV==="test"&&l.onMounted(()=>{const e=F.isElement(u.value)?u.value:document.querySelector("input,textarea");e&&(r.useEventListener(e,"focus",i,!0),r.useEventListener(e,"blur",a,!0))}),{isFocused:o,wrapperRef:t,handleFocus:i,handleBlur:a}}s(q,"useFocusController");exports.useFocusController=q;
