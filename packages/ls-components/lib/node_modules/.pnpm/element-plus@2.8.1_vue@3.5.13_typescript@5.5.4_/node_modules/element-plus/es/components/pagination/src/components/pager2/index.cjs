"use strict";var z=Object.defineProperty;var o=(v,m)=>z(v,"name",{value:m,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),b=require("@element-plus/icons-vue"),V=require("../pager/index.cjs"),K=require("../../../../../_virtual/plugin-vue_export-helper/index.cjs"),E=require("../../../../../hooks/use-namespace/index/index.cjs"),A=require("../../../../../hooks/use-locale/index/index.cjs"),D=e.defineComponent({name:"ElPaginationPager"}),S=e.defineComponent({...D,props:V.paginationPagerProps,emits:["change"],setup(v,{emit:m}){const r=v,u=E.useNamespace("pager"),h=E.useNamespace("icon"),{t:g}=A.useLocale(),C=e.ref(!1),k=e.ref(!1),P=e.ref(!1),B=e.ref(!1),N=e.ref(!1),M=e.ref(!1),F=e.computed(()=>{const a=r.pagerCount,t=(a-1)/2,n=Number(r.currentPage),s=Number(r.pageCount);let i=!1,c=!1;s>a&&(n>a-t&&(i=!0),n<s-t&&(c=!0));const d=[];if(i&&!c){const l=s-(a-2);for(let f=l;f<s;f++)d.push(f)}else if(!i&&c)for(let l=2;l<a;l++)d.push(l);else if(i&&c){const l=Math.floor(a/2)-1;for(let f=n-l;f<=n+l;f++)d.push(f)}else for(let l=2;l<s;l++)d.push(l);return d}),$=e.computed(()=>["more","btn-quickprev",h.b(),u.is("disabled",r.disabled)]),L=e.computed(()=>["more","btn-quicknext",h.b(),u.is("disabled",r.disabled)]),p=e.computed(()=>r.disabled?-1:0);e.watchEffect(()=>{const a=(r.pagerCount-1)/2;C.value=!1,k.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-a&&(C.value=!0),r.currentPage<r.pageCount-a&&(k.value=!0))});function y(a=!1){r.disabled||(a?P.value=!0:B.value=!0)}o(y,"onMouseEnter");function q(a=!1){a?N.value=!0:M.value=!0}o(q,"onFocus");function x(a){const t=a.target;if(t.tagName.toLowerCase()==="li"&&Array.from(t.classList).includes("number")){const n=Number(t.textContent);n!==r.currentPage&&m("change",n)}else t.tagName.toLowerCase()==="li"&&Array.from(t.classList).includes("more")&&w(a)}o(x,"onEnter");function w(a){const t=a.target;if(t.tagName.toLowerCase()==="ul"||r.disabled)return;let n=Number(t.textContent);const s=r.pageCount,i=r.currentPage,c=r.pagerCount-2;t.className.includes("more")&&(t.className.includes("quickprev")?n=i-c:t.className.includes("quicknext")&&(n=i+c)),Number.isNaN(+n)||(n<1&&(n=1),n>s&&(n=s)),n!==i&&m("change",n)}return o(w,"onPagerClick"),(a,t)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass(e.unref(u).b()),onClick:w,onKeyup:e.withKeys(x,["enter"])},[a.pageCount>0?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass([[e.unref(u).is("active",a.currentPage===1),e.unref(u).is("disabled",a.disabled)],"number"]),"aria-current":a.currentPage===1,"aria-label":e.unref(g)("el.pagination.currentPage",{pager:1}),tabindex:e.unref(p)}," 1 ",10,["aria-current","aria-label","tabindex"])):e.createCommentVNode("v-if",!0),C.value?(e.openBlock(),e.createElementBlock("li",{key:1,class:e.normalizeClass(e.unref($)),tabindex:e.unref(p),"aria-label":e.unref(g)("el.pagination.prevPages",{pager:a.pagerCount-2}),onMouseenter:o(n=>y(!0),"onMouseenter"),onMouseleave:o(n=>P.value=!1,"onMouseleave"),onFocus:o(n=>q(!0),"onFocus"),onBlur:o(n=>N.value=!1,"onBlur")},[(P.value||N.value)&&!a.disabled?(e.openBlock(),e.createBlock(e.unref(b.DArrowLeft),{key:0})):(e.openBlock(),e.createBlock(e.unref(b.MoreFilled),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):e.createCommentVNode("v-if",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(F),n=>(e.openBlock(),e.createElementBlock("li",{key:n,class:e.normalizeClass([[e.unref(u).is("active",a.currentPage===n),e.unref(u).is("disabled",a.disabled)],"number"]),"aria-current":a.currentPage===n,"aria-label":e.unref(g)("el.pagination.currentPage",{pager:n}),tabindex:e.unref(p)},e.toDisplayString(n),11,["aria-current","aria-label","tabindex"]))),128)),k.value?(e.openBlock(),e.createElementBlock("li",{key:2,class:e.normalizeClass(e.unref(L)),tabindex:e.unref(p),"aria-label":e.unref(g)("el.pagination.nextPages",{pager:a.pagerCount-2}),onMouseenter:o(n=>y(),"onMouseenter"),onMouseleave:o(n=>B.value=!1,"onMouseleave"),onFocus:o(n=>q(),"onFocus"),onBlur:o(n=>M.value=!1,"onBlur")},[(B.value||M.value)&&!a.disabled?(e.openBlock(),e.createBlock(e.unref(b.DArrowRight),{key:0})):(e.openBlock(),e.createBlock(e.unref(b.MoreFilled),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):e.createCommentVNode("v-if",!0),a.pageCount>1?(e.openBlock(),e.createElementBlock("li",{key:3,class:e.normalizeClass([[e.unref(u).is("active",a.currentPage===a.pageCount),e.unref(u).is("disabled",a.disabled)],"number"]),"aria-current":a.currentPage===a.pageCount,"aria-label":e.unref(g)("el.pagination.currentPage",{pager:a.pageCount}),tabindex:e.unref(p)},e.toDisplayString(a.pageCount),11,["aria-current","aria-label","tabindex"])):e.createCommentVNode("v-if",!0)],42,["onKeyup"]))}});var H=K.default(S,[["__file","pager.vue"]]);exports.default=H;
