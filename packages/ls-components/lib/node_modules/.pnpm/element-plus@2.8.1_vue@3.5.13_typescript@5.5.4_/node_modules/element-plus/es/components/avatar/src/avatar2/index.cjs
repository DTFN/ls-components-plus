"use strict";var y=Object.defineProperty;var u=(n,a)=>y(n,"name",{value:a,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),k=require("../../../icon/index/index.cjs"),p=require("../avatar/index.cjs"),h=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),B=require("../../../../hooks/use-namespace/index/index.cjs"),S=require("../../../../../../../../@vue_shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler/index.cjs"),q=require("../../../../utils/types/index.cjs"),E=require("../../../../utils/dom/style/index.cjs"),z=e.defineComponent({name:"ElAvatar"}),_=e.defineComponent({...z,props:p.avatarProps,emits:p.avatarEmits,setup(n,{emit:a}){const s=n,t=B.useNamespace("avatar"),c=e.ref(!1),m=e.computed(()=>{const{size:r,icon:l,shape:i}=s,o=[t.b()];return S.isString(r)&&o.push(t.m(r)),l&&o.push(t.m("icon")),i&&o.push(t.m(i)),o}),d=e.computed(()=>{const{size:r}=s;return q.isNumber(r)?t.cssVarBlock({size:E.addUnit(r)||""}):void 0}),f=e.computed(()=>({objectFit:s.fit}));e.watch(()=>s.src,()=>c.value=!1);function v(r){c.value=!0,a("error",r)}return u(v,"handleError"),(r,l)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(e.unref(m)),style:e.normalizeStyle(e.unref(d))},[(r.src||r.srcSet)&&!c.value?(e.openBlock(),e.createElementBlock("img",{key:0,src:r.src,alt:r.alt,srcset:r.srcSet,style:e.normalizeStyle(e.unref(f)),onError:v},null,44,["src","alt","srcset"])):r.icon?(e.openBlock(),e.createBlock(e.unref(k.ElIcon),{key:1},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r.icon)))]),_:1})):e.renderSlot(r.$slots,"default",{key:2})],6))}});var C=h.default(_,[["__file","avatar.vue"]]);exports.default=C;
