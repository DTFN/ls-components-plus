"use strict";var A=Object.defineProperty;var s=(r,l)=>A(r,"name",{value:l,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("vue"),g=require("../../../../utils/dom/style/index.cjs"),T=require("../../../config-provider/src/hooks/use-global-config/index.cjs");function w(r){let l;const c=n.ref(!1),t=n.reactive({...r,originalPosition:"",originalOverflow:"",visible:!1});function m(e){t.text=e}s(m,"setText");function b(){const e=t.parent,i=a.ns;if(!e.vLoadingAddClassList){let o=e.getAttribute("loading-number");o=Number.parseInt(o)-1,o?e.setAttribute("loading-number",o.toString()):(g.removeClass(e,i.bm("parent","relative")),e.removeAttribute("loading-number")),g.removeClass(e,i.bm("parent","hidden"))}d(),v.unmount()}s(b,"destroySelf");function d(){var e,i;(i=(e=a.$el)==null?void 0:e.parentNode)==null||i.removeChild(a.$el)}s(d,"removeElLoadingChild");function p(){var e;r.beforeClose&&!r.beforeClose()||(c.value=!0,clearTimeout(l),l=setTimeout(u,400),t.visible=!1,(e=r.closed)==null||e.call(r))}s(p,"close");function u(){if(!c.value)return;const e=t.parent;c.value=!1,e.vLoadingAddClassList=void 0,b()}s(u,"handleAfterLeave");const C=n.defineComponent({name:"ElLoading",setup(e,{expose:i}){const{ns:o,zIndex:L}=T.useGlobalComponentSettings("loading");return i({ns:o,zIndex:L}),()=>{const f=t.spinner||t.svg,h=n.h("svg",{class:"circular",viewBox:t.svgViewBox?t.svgViewBox:"0 0 50 50",...f?{innerHTML:f}:{}},[n.h("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),x=t.text?n.h("p",{class:o.b("text")},[t.text]):void 0;return n.h(n.Transition,{name:o.b("fade"),onAfterLeave:u},{default:n.withCtx(()=>[n.withDirectives(n.createVNode("div",{style:{backgroundColor:t.background||""},class:[o.b("mask"),t.customClass,t.fullscreen?"is-fullscreen":""]},[n.h("div",{class:o.b("spinner")},[h,x])]),[[n.vShow,t.visible]])])})}}}),v=n.createApp(C),a=v.mount(document.createElement("div"));return{...n.toRefs(t),setText:m,removeElLoadingChild:d,close:p,handleAfterLeave:u,vm:a,get $el(){return a.$el}}}s(w,"createLoadingComponent");exports.createLoadingComponent=w;
