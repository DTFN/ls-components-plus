"use strict";var S=Object.defineProperty;var d=(n,s)=>S(n,"name",{value:s,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),q=require("../../../checkbox/index/index.cjs"),P=require("../../../radio/index/index.cjs"),$=require("../../../icon/index/index.cjs"),b=require("@element-plus/icons-vue"),M=require("../node-content/index.cjs"),A=require("../types/index.cjs"),H=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),z=require("../../../../hooks/use-namespace/index/index.cjs"),D=e.defineComponent({name:"ElCascaderNode",components:{ElCheckbox:q.ElCheckbox,ElRadio:P.ElRadio,NodeContent:M.default,ElIcon:$.ElIcon,Check:b.Check,Loading:b.Loading,ArrowRight:b.ArrowRight},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:s}){const a=e.inject(A.CASCADER_PANEL_INJECTION_KEY),g=z.useNamespace("cascader-node"),r=e.computed(()=>a.isHoverMenu),h=e.computed(()=>a.config.multiple),t=e.computed(()=>a.config.checkStrictly),k=e.computed(()=>{var o;return(o=a.checkedNodes[0])==null?void 0:o.uid}),i=e.computed(()=>n.node.isDisabled),l=e.computed(()=>n.node.isLeaf),u=e.computed(()=>t.value&&!l.value||!i.value),m=e.computed(()=>N(a.expandingNode)),v=e.computed(()=>t.value&&a.checkedNodes.some(N)),N=d(o=>{var c;const{level:I,uid:L}=n.node;return((c=o==null?void 0:o.pathNodes[I-1])==null?void 0:c.uid)===L},"isInPath"),p=d(()=>{m.value||a.expandNode(n.node)},"doExpand"),E=d(o=>{const{node:c}=n;o!==c.checked&&a.handleCheckChange(c,o)},"doCheck"),V=d(()=>{a.lazyLoad(n.node,()=>{l.value||p()})},"doLoad"),y=d(o=>{r.value&&(C(),!l.value&&s("expand",o))},"handleHoverExpand"),C=d(()=>{const{node:o}=n;!u.value||o.loading||(o.loaded?p():V())},"handleExpand"),B=d(()=>{r.value&&!l.value||(l.value&&!i.value&&!t.value&&!h.value?f(!0):C())},"handleClick"),w=d(o=>{t.value?(E(o),n.node.loaded&&p()):f(o)},"handleSelectCheck"),f=d(o=>{n.node.loaded?(E(o),!t.value&&p()):V()},"handleCheck");return{panel:a,isHoverMenu:r,multiple:h,checkStrictly:t,checkedNodeId:k,isDisabled:i,isLeaf:l,expandable:u,inExpandingPath:m,inCheckedPath:v,ns:g,handleHoverExpand:y,handleExpand:C,handleClick:B,handleCheck:f,handleSelectCheck:w}}});function R(n,s,a,g,r,h){const t=e.resolveComponent("el-checkbox"),k=e.resolveComponent("el-radio"),i=e.resolveComponent("check"),l=e.resolveComponent("el-icon"),u=e.resolveComponent("node-content"),m=e.resolveComponent("loading"),v=e.resolveComponent("arrow-right");return e.openBlock(),e.createElementBlock("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:e.normalizeClass([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:n.handleHoverExpand,onFocus:n.handleHoverExpand,onClick:n.handleClick},[e.createCommentVNode(" prefix "),n.multiple?(e.openBlock(),e.createBlock(t,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:e.withModifiers(()=>{},["stop"]),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):n.checkStrictly?(e.openBlock(),e.createBlock(k,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:e.withModifiers(()=>{},["stop"])},{default:e.withCtx(()=>[e.createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),e.createElementVNode("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):n.isLeaf&&n.node.checked?(e.openBlock(),e.createBlock(l,{key:2,class:e.normalizeClass(n.ns.e("prefix"))},{default:e.withCtx(()=>[e.createVNode(i)]),_:1},8,["class"])):e.createCommentVNode("v-if",!0),e.createCommentVNode(" content "),e.createVNode(u),e.createCommentVNode(" postfix "),n.isLeaf?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[n.node.loading?(e.openBlock(),e.createBlock(l,{key:0,class:e.normalizeClass([n.ns.is("loading"),n.ns.e("postfix")])},{default:e.withCtx(()=>[e.createVNode(m)]),_:1},8,["class"])):(e.openBlock(),e.createBlock(l,{key:1,class:e.normalizeClass(["arrow-right",n.ns.e("postfix")])},{default:e.withCtx(()=>[e.createVNode(v)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}d(R,"_sfc_render");var j=H.default(D,[["render",R],["__file","node.vue"]]);exports.default=j;
