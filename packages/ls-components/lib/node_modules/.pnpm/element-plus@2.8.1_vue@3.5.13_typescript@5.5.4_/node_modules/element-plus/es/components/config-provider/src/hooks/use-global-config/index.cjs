"use strict";var y=Object.defineProperty;var c=(u,r)=>y(u,"name",{value:r,configurable:!0});Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("vue"),g=require("../../constants/index.cjs"),d=require("../../../../../hooks/use-namespace/index/index.cjs"),C=require("../../../../../hooks/use-locale/index/index.cjs"),v=require("../../../../../hooks/use-z-index/index/index.cjs"),b=require("../../../../../utils/error/index.cjs"),I=require("../../../../../hooks/use-size/index/index.cjs"),q=require("../../../../../hooks/use-empty-values/index/index.cjs"),m=require("../../../../../utils/objects/index.cjs"),s=n.ref();function p(u,r=void 0){const o=n.getCurrentInstance()?n.inject(g.configProviderContextKey,s):s;return u?n.computed(()=>{var l,t;return(t=(l=o.value)==null?void 0:l[u])!=null?t:r}):o}c(p,"useGlobalConfig");function _(u,r){const o=p(),l=d.useNamespace(u,n.computed(()=>{var e;return((e=o.value)==null?void 0:e.namespace)||d.defaultNamespace})),t=C.useLocale(n.computed(()=>{var e;return(e=o.value)==null?void 0:e.locale})),i=v.useZIndex(n.computed(()=>{var e;return((e=o.value)==null?void 0:e.zIndex)||v.defaultInitialZIndex})),a=n.computed(()=>{var e;return n.unref(r)||((e=o.value)==null?void 0:e.size)||""});return x(n.computed(()=>n.unref(o)||{})),{ns:l,locale:t,zIndex:i,size:a}}c(_,"useGlobalComponentSettings");const x=c((u,r,o=!1)=>{var l;const t=!!n.getCurrentInstance(),i=t?p():void 0,a=(l=void 0)!=null?l:t?n.provide:void 0;if(!a){b.debugWarn("provideGlobalConfig","provideGlobalConfig() can only be used inside setup().");return}const e=n.computed(()=>{const f=n.unref(u);return i!=null&&i.value?z(i.value,f):f});return a(g.configProviderContextKey,e),a(C.localeContextKey,n.computed(()=>e.value.locale)),a(d.namespaceContextKey,n.computed(()=>e.value.namespace)),a(v.zIndexContextKey,n.computed(()=>e.value.zIndex)),a(I.SIZE_INJECTION_KEY,{size:n.computed(()=>e.value.size||"")}),a(q.emptyValuesContextKey,n.computed(()=>({emptyValues:e.value.emptyValues,valueOnClear:e.value.valueOnClear}))),(o||!s.value)&&(s.value=e.value),e},"provideGlobalConfig"),z=c((u,r)=>{const o=[...new Set([...m.keysOf(u),...m.keysOf(r)])],l={};for(const t of o)l[t]=r[t]!==void 0?r[t]:u[t];return l},"mergeConfig");exports.provideGlobalConfig=x;exports.useGlobalComponentSettings=_;exports.useGlobalConfig=p;
