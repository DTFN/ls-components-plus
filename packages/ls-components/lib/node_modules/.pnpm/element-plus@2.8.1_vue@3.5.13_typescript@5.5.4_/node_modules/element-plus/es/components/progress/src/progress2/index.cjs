"use strict";var N=Object.defineProperty;var f=(u,t)=>N(u,"name",{value:t,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),D=require("../../../icon/index/index.cjs"),c=require("@element-plus/icons-vue"),P=require("../progress/index.cjs"),V=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),I=require("../../../../hooks/use-namespace/index/index.cjs"),m=require("../../../../../../../../@vue_shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler/index.cjs"),T=e.defineComponent({name:"ElProgress"}),q=e.defineComponent({...T,props:P.progressProps,setup(u){const t=u,k={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=I.useNamespace("progress"),$=e.computed(()=>{const r={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},s=b(t.percentage);return s.includes("gradient")?r.background=s:r.backgroundColor=s,r}),p=e.computed(()=>(t.strokeWidth/t.width*100).toFixed(1)),h=e.computed(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),g=e.computed(()=>{const r=h.value,s=t.type==="dashboard";return`
          M 50 50
          m 0 ${s?"":"-"}${r}
          a ${r} ${r} 0 1 1 0 ${s?"-":""}${r*2}
          a ${r} ${r} 0 1 1 0 ${s?"":"-"}${r*2}
          `}),i=e.computed(()=>2*Math.PI*h.value),d=e.computed(()=>t.type==="dashboard"?.75:1),y=e.computed(()=>`${-1*i.value*(1-d.value)/2}px`),C=e.computed(()=>({strokeDasharray:`${i.value*d.value}px, ${i.value}px`,strokeDashoffset:y.value})),S=e.computed(()=>({strokeDasharray:`${i.value*d.value*(t.percentage/100)}px, ${i.value}px`,strokeDashoffset:y.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),w=e.computed(()=>{let r;return t.color?r=b(t.percentage):r=k[t.status]||k.default,r}),B=e.computed(()=>t.status==="warning"?c.WarningFilled:t.type==="line"?t.status==="success"?c.CircleCheck:c.CircleClose:t.status==="success"?c.Check:c.Close),z=e.computed(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),v=e.computed(()=>t.format(t.percentage));function E(r){const s=100/r.length;return r.map((o,l)=>m.isString(o)?{color:o,percentage:(l+1)*s}:o).sort((o,l)=>o.percentage-l.percentage)}f(E,"getColors");const b=f(r=>{var s;const{color:a}=t;if(m.isFunction(a))return a(r);if(m.isString(a))return a;{const o=E(a);for(const l of o)if(l.percentage>r)return l.color;return(s=o[o.length-1])==null?void 0:s.color}},"getCurrentColor");return(r,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).m(r.type),e.unref(n).is(r.status),{[e.unref(n).m("without-text")]:!r.showText,[e.unref(n).m("text-inside")]:r.textInside}]),role:"progressbar","aria-valuenow":r.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[r.type==="line"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(n).b("bar"))},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(n).be("bar","outer")),style:e.normalizeStyle({height:`${r.strokeWidth}px`})},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).be("bar","inner"),{[e.unref(n).bem("bar","inner","indeterminate")]:r.indeterminate},{[e.unref(n).bem("bar","inner","striped")]:r.striped},{[e.unref(n).bem("bar","inner","striped-flow")]:r.stripedFlow}]),style:e.normalizeStyle(e.unref($))},[(r.showText||r.$slots.default)&&r.textInside?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(n).be("bar","innerText"))},[e.renderSlot(r.$slots,"default",{percentage:r.percentage},()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(v)),1)])],2)):e.createCommentVNode("v-if",!0)],6)],6)],2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(n).b("circle")),style:e.normalizeStyle({height:`${r.width}px`,width:`${r.width}px`})},[(e.openBlock(),e.createElementBlock("svg",{viewBox:"0 0 100 100"},[e.createElementVNode("path",{class:e.normalizeClass(e.unref(n).be("circle","track")),d:e.unref(g),stroke:`var(${e.unref(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":r.strokeLinecap,"stroke-width":e.unref(p),fill:"none",style:e.normalizeStyle(e.unref(C))},null,14,["d","stroke","stroke-linecap","stroke-width"]),e.createElementVNode("path",{class:e.normalizeClass(e.unref(n).be("circle","path")),d:e.unref(g),stroke:e.unref(w),fill:"none",opacity:r.percentage?1:0,"stroke-linecap":r.strokeLinecap,"stroke-width":e.unref(p),style:e.normalizeStyle(e.unref(S))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(r.showText||r.$slots.default)&&!r.textInside?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(n).e("text")),style:e.normalizeStyle({fontSize:`${e.unref(z)}px`})},[e.renderSlot(r.$slots,"default",{percentage:r.percentage},()=>[r.status?(e.openBlock(),e.createBlock(e.unref(D.ElIcon),{key:1},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(B))))]),_:1})):(e.openBlock(),e.createElementBlock("span",{key:0},e.toDisplayString(e.unref(v)),1))])],6)):e.createCommentVNode("v-if",!0)],10,["aria-valuenow"]))}});var F=V.default(q,[["__file","progress.vue"]]);exports.default=F;
