"use strict";var b=Object.defineProperty;var l=(n,r)=>b(n,"name",{value:r,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),I=require("../../../tooltip/index/index.cjs"),C=require("../use-menu/index.cjs"),M=require("../menu-item/index.cjs"),E=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),f=require("../../../../hooks/use-namespace/index/index.cjs"),v=require("../../../../utils/error/index.cjs"),s="ElMenuItem",h=e.defineComponent({name:s,components:{ElTooltip:I.ElTooltip},props:M.menuItemProps,emits:M.menuItemEmits,setup(n,{emit:r}){const a=e.getCurrentInstance(),t=e.inject("rootMenu"),c=f.useNamespace("menu"),m=f.useNamespace("menu-item");t||v.throwError(s,"can not inject root menu");const{parentMenu:u,indexPath:d}=C.default(a,e.toRef(n,"index")),i=e.inject(`subMenu:${u.value.uid}`);i||v.throwError(s,"can not inject sub menu");const p=e.computed(()=>n.index===t.activeIndex),o=e.reactive({index:n.index,indexPath:d,active:p}),k=l(()=>{n.disabled||(t.handleMenuItemClick({index:n.index,indexPath:d.value,route:n.route}),r("click",o))},"handleClick");return e.onMounted(()=>{i.addSubMenu(o),t.addMenuItem(o)}),e.onBeforeUnmount(()=>{i.removeSubMenu(o),t.removeMenuItem(o)}),{parentMenu:u,rootMenu:t,active:p,nsMenu:c,nsMenuItem:m,handleClick:k}}});function $(n,r,a,t,c,m){const u=e.resolveComponent("el-tooltip");return e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:n.handleClick},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(e.openBlock(),e.createBlock(u,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:e.withCtx(()=>[e.renderSlot(n.$slots,"title")]),default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(n.nsMenu.be("tooltip","trigger"))},[e.renderSlot(n.$slots,"default")],2)]),_:3},8,["effect"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.renderSlot(n.$slots,"default"),e.renderSlot(n.$slots,"title")],64))],10,["onClick"])}l($,"_sfc_render");var g=E.default(h,[["render",$],["__file","menu-item.vue"]]);exports.default=g;
