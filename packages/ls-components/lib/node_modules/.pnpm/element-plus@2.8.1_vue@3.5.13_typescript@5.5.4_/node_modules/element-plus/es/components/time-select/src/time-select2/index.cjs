"use strict";var g=Object.defineProperty;var n=(u,c)=>g(u,"name",{value:c,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const l=require("vue"),m=require("../../../../../../../../dayjs@1.11.13/node_modules/dayjs/dayjs.min/index.cjs"),y=require("../../../../../../../../dayjs@1.11.13/node_modules/dayjs/plugin/customParseFormat/index.cjs"),d=require("../../../select/index/index.cjs"),S=require("../../../icon/index/index.cjs"),V=require("../time-select/index.cjs"),r=require("../utils/index.cjs"),$=require("../../../../_virtual/plugin-vue_export-helper/index.cjs"),_=require("../../../../hooks/use-namespace/index/index.cjs"),E=require("../../../form/src/hooks/use-form-common-props/index.cjs"),F=require("../../../../hooks/use-locale/index/index.cjs"),I=l.defineComponent({name:"ElTimeSelect"}),w=l.defineComponent({...I,props:V.timeSelectProps,emits:["change","blur","focus","clear","update:modelValue"],setup(u,{expose:c}){const a=u;m.default.extend(y.default);const{Option:p}=d.ElSelect,f=_.useNamespace("input"),s=l.ref(),v=E.useFormDisabled(),{lang:b}=F.useLocale(),T=l.computed(()=>a.modelValue),C=l.computed(()=>{const e=r.parseTime(a.start);return e?r.formatTime(e):null}),i=l.computed(()=>{const e=r.parseTime(a.end);return e?r.formatTime(e):null}),h=l.computed(()=>{const e=r.parseTime(a.step);return e?r.formatTime(e):null}),k=l.computed(()=>{const e=r.parseTime(a.minTime||"");return e?r.formatTime(e):null}),B=l.computed(()=>{const e=r.parseTime(a.maxTime||"");return e?r.formatTime(e):null}),q=l.computed(()=>{const e=[];if(a.start&&a.end&&a.step){let o=C.value,t;for(;o&&i.value&&r.compareTime(o,i.value)<=0;)t=m.default(o,"HH:mm").locale(b.value).format(a.format),e.push({value:t,disabled:r.compareTime(o,k.value||"-1:-1")<=0||r.compareTime(o,B.value||"100:100")>=0}),o=r.nextTime(o,h.value)}return e});return c({blur:n(()=>{var e,o;(o=(e=s.value)==null?void 0:e.blur)==null||o.call(e)},"blur"),focus:n(()=>{var e,o;(o=(e=s.value)==null?void 0:e.focus)==null||o.call(e)},"focus")}),(e,o)=>(l.openBlock(),l.createBlock(l.unref(d.ElSelect),{ref_key:"select",ref:s,"model-value":l.unref(T),disabled:l.unref(v),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"onUpdate:modelValue":n(t=>e.$emit("update:modelValue",t),"onUpdate:modelValue"),onChange:n(t=>e.$emit("change",t),"onChange"),onBlur:n(t=>e.$emit("blur",t),"onBlur"),onFocus:n(t=>e.$emit("focus",t),"onFocus"),onClear:n(()=>e.$emit("clear"),"onClear")},{prefix:l.withCtx(()=>[e.prefixIcon?(l.openBlock(),l.createBlock(l.unref(S.ElIcon),{key:0,class:l.normalizeClass(l.unref(f).e("prefix-icon"))},{default:l.withCtx(()=>[(l.openBlock(),l.createBlock(l.resolveDynamicComponent(e.prefixIcon)))]),_:1},8,["class"])):l.createCommentVNode("v-if",!0)]),default:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(q),t=>(l.openBlock(),l.createBlock(l.unref(p),{key:t.value,label:t.value,value:t.value,disabled:t.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var z=$.default(w,[["__file","time-select.vue"]]);exports.default=z;
